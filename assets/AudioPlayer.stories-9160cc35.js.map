{"version":3,"file":"AudioPlayer.stories-9160cc35.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/wavesurfer-react/dist/contexts/WaveSurferContext.js","../../node_modules/wavesurfer-react/dist/components/Region.js","../../node_modules/wavesurfer-react/dist/components/Marker.js","../../node_modules/wavesurfer-react/dist/components/WaveForm.js","../../node_modules/wavesurfer-react/dist/utils/getWaveFormOptionsFromProps.js","../../node_modules/wavesurfer.js/dist/wavesurfer.esm.js","../../node_modules/wavesurfer-react/dist/utils/createWavesurfer.js","../../node_modules/wavesurfer-react/dist/utils/createPlugin.js","../../node_modules/wavesurfer-react/dist/utils/getDifference.js","../../node_modules/wavesurfer-react/dist/hooks/useWavesurfer.js","../../node_modules/wavesurfer-react/dist/utils/isReactElement.js","../../node_modules/wavesurfer-react/dist/containers/WaveSurfer.js","../../node_modules/wavesurfer.js/dist/event-emitter.js","../../node_modules/wavesurfer.js/dist/base-plugin.js","../../node_modules/wavesurfer.js/dist/draggable.js","../../node_modules/wavesurfer.js/dist/plugins/regions.js","../../src/components/AudioPlayer.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import { createContext } from 'react';\nconst WaveSurferContext = createContext(null);\nexport default WaveSurferContext;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useRef, useState } from \"react\";\nimport useRegionEvent from \"../hooks/useRegionEvent\";\nimport useWavesurferContext from \"../hooks/useWavesurferContext\";\nimport { UpdatableRegionProps } from \"../constants/updatableRegionProps\";\nexport const Region = (_a) => {\n    var { onOver, onLeave, onClick, onDoubleClick, onIn, onOut, onRemove, onUpdate, onUpdateEnd } = _a, props = __rest(_a, [\"onOver\", \"onLeave\", \"onClick\", \"onDoubleClick\", \"onIn\", \"onOut\", \"onRemove\", \"onUpdate\", \"onUpdateEnd\"]);\n    const waveSurfer = useWavesurferContext();\n    const isRenderedCache = useRef(false);\n    const [regionRef, setRegionRef] = useState(null);\n    useEffect(() => {\n        return () => {\n            regionRef === null || regionRef === void 0 ? void 0 : regionRef.remove();\n        };\n    }, [regionRef]);\n    useEffect(() => {\n        // If there is a regionRef, then process update on any props update\n        regionRef === null || regionRef === void 0 ? void 0 : regionRef.update(UpdatableRegionProps.reduce((result, prop) => {\n            if (regionRef[prop] !== props[prop]) {\n                return Object.assign(Object.assign({}, result), { [prop]: props[prop] });\n            }\n            return result;\n        }, { id: props.id }));\n    }, UpdatableRegionProps.map((prop) => props[prop]));\n    useEffect(() => {\n        if (!isRenderedCache.current && waveSurfer) {\n            isRenderedCache.current = true;\n            let region;\n            region = waveSurfer.regions.list[props.id];\n            if (!region) {\n                region = waveSurfer.addRegion(props);\n            }\n            setRegionRef(region);\n        }\n        // eslint-disable-next-line\n    }, [waveSurfer]);\n    useRegionEvent(regionRef, \"click\", onClick);\n    useRegionEvent(regionRef, \"mouseenter\", onOver);\n    useRegionEvent(regionRef, \"mouseleave\", onLeave);\n    useRegionEvent(regionRef, \"dblclick\", onDoubleClick);\n    useRegionEvent(regionRef, \"in\", onIn);\n    useRegionEvent(regionRef, \"out\", onOut);\n    useRegionEvent(regionRef, \"remove\", onRemove);\n    useRegionEvent(regionRef, \"update\", onUpdate);\n    useRegionEvent(regionRef, \"update-end\", onUpdateEnd);\n    return null;\n};\nexport default Region;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useRef } from \"react\";\nimport useWavesurferContext from \"../hooks/useWavesurferContext\";\n// TODO: remove boilerplate in useEffects section, try to update useRegionEvent to support\n//  all kinds of event handling within WaveSurfer ecosystem\nexport default function Marker(_a) {\n    var { onClick, onDrop, onDrag } = _a, data = __rest(_a, [\"onClick\", \"onDrop\", \"onDrag\"]);\n    const ws = useWavesurferContext();\n    // TODO: make some kind of useGetLatestWs...\n    const ws$ = useRef(ws);\n    useEffect(() => {\n        ws$.current = ws;\n    }, [ws]);\n    // This is the only legal/official way to identify marker\n    // inside wavesurfer markers list and\n    // to tie it with Marker component\n    const isRendered = useRef(false);\n    const markerEl = useRef(null);\n    useEffect(() => {\n        if (!ws)\n            return;\n        if (!onClick)\n            return;\n        function handler(marker, event) {\n            if (!markerEl.current)\n                return;\n            if (marker.el !== markerEl.current.el)\n                return;\n            onClick === null || onClick === void 0 ? void 0 : onClick(marker, event);\n        }\n        ws.on(\"marker-click\", handler);\n        return () => {\n            ws.un(\"marker-click\", handler);\n        };\n    }, [ws, onClick]);\n    useEffect(() => {\n        if (!ws)\n            return;\n        if (!onDrag)\n            return;\n        function handler(marker, event) {\n            if (!markerEl.current)\n                return;\n            if (marker.el !== markerEl.current.el)\n                return;\n            onDrag === null || onDrag === void 0 ? void 0 : onDrag(marker, event);\n        }\n        ws.on(\"marker-drag\", handler);\n        return () => {\n            ws.un(\"marker-drag\", handler);\n        };\n    }, [ws, onDrag]);\n    useEffect(() => {\n        if (!ws)\n            return;\n        if (!onDrop)\n            return;\n        function handler(marker, event) {\n            if (!markerEl.current)\n                return;\n            if (marker.el !== markerEl.current.el)\n                return;\n            onDrop === null || onDrop === void 0 ? void 0 : onDrop(marker, event);\n        }\n        ws.on(\"marker-drop\", handler);\n        return () => {\n            ws.un(\"marker-drop\", handler);\n        };\n    }, [ws, onDrop]);\n    useEffect(() => {\n        if (!ws)\n            return;\n        // THERE CAN BE ONLY ONE\n        // ...\n        // ...\n        // ...\n        // marker creation for each Marker component.\n        // If there is a better way, PRs welcome!\n        if (isRendered.current)\n            return;\n        isRendered.current = true;\n        // create marker: marker becomes visible at the same time\n        markerEl.current = ws.addMarker(data);\n    }, [ws]);\n    useEffect(() => {\n        var _a;\n        if (!ws || !markerEl.current || !isRendered.current)\n            return;\n        // Проверяем что изменения реально имели место быть,\n        // но снаружи, а не внутри\n        // На данный момент, меняется только позиция\n        if (data.time === ((_a = markerEl.current) === null || _a === void 0 ? void 0 : _a.time))\n            return;\n        // When wavesurfer will officially make markers fully updatable,\n        // then it will be done in other way, for now it's enough.\n        //\n        // For enthusiasts, it is possible to deep dive into the process of marker creation and make a PR,\n        // that will add full marker update support.\n        // https://wavesurfer-js.org/api/file/src/plugin/markers/index.js.html\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        const marker = ws.markers.markers.find(mark => { var _a; return mark.el === ((_a = markerEl.current) === null || _a === void 0 ? void 0 : _a.el); });\n        if (!marker)\n            return;\n        marker.time = data.time;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        ws.markers._updateMarkerPosition(Object.assign(Object.assign({}, markerEl.current), { time: data.time }));\n    }, [data === null || data === void 0 ? void 0 : data.time]);\n    // Maybe it will require to create some single source of truth for Markers,\n    // as far as they are working via wavesurfer instance. That's making'em\n    // different from Regions in the way of working.\n    useEffect(() => () => {\n        if (!ws$.current || !markerEl.current)\n            return;\n        const index = ws$.current.markers.markers.findIndex((marker) => {\n            var _a;\n            return marker.el === ((_a = markerEl.current) === null || _a === void 0 ? void 0 : _a.el);\n        });\n        ws$.current.markers.remove(index);\n    }, []);\n    return null;\n}\n","import React from \"react\";\nconst WaveForm = ({ id = \"waveform\", children }) => {\n    return React.createElement(\"div\", { id: id }, children);\n};\nexport default WaveForm;\n","export const waveFormPropsList = [\n    \"audioRate\",\n    \"audioContext\",\n    \"audioScriptProcessor\",\n    \"autoCenter\",\n    \"backend\",\n    \"backgroundColor\",\n    \"barGap\",\n    \"barHeight\",\n    \"barMinHeight\",\n    \"barRadius\",\n    \"barWidth\",\n    \"closeAudioContext\",\n    \"cursorColor\",\n    \"cursorWidth\",\n    \"fillParent\",\n    \"forceDecode\",\n    \"height\",\n    \"hideScrollbar\",\n    \"interact\",\n    \"loopSelection\",\n    \"maxCanvasWidth\",\n    \"mediaControls\",\n    \"mediaType\",\n    \"minPxPerSec\",\n    \"normalize\",\n    \"partialRender\",\n    \"pixelRatio\",\n    \"progressColor\",\n    \"removeMediaElementOnDestroy\",\n    \"renderer\",\n    \"responsive\",\n    \"scrollParent\",\n    \"skipLength\",\n    \"splitChannels\",\n    \"waveColor\",\n    \"autoCenterRate\",\n    \"autoCenterImmediately\",\n    \"drawingContextAttributes\",\n    \"duration\",\n    \"ignoreSilenceMode\",\n    \"rtl\",\n    \"splitChannelsOptions\",\n    \"vertical\",\n    \"xhr\"\n];\nconst getWaveFormOptionsFromProps = (props) => {\n    if (!props)\n        return {};\n    return waveFormPropsList.reduce((waveFormOptions, optionName) => {\n        if (!Object.prototype.hasOwnProperty.call(props, optionName)) {\n            return waveFormOptions;\n        }\n        return Object.assign(Object.assign({}, waveFormOptions), { [optionName]: props[optionName] });\n    }, {});\n};\nexport default getWaveFormOptionsFromProps;\n","function t(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;const e={decode:function(e,i){return t(this,void 0,void 0,(function*(){const t=new AudioContext({sampleRate:i}),s=t.decodeAudioData(e);return s.finally((()=>t.close())),s}))},createBuffer:function(t,e){return\"number\"==typeof t[0]&&(t=[t]),function(t){const e=t[0];if(e.some((t=>t>1||t<-1))){const i=e.length;let s=0;for(let t=0;t<i;t++){const i=Math.abs(e[t]);i>s&&(s=i)}for(const e of t)for(let t=0;t<i;t++)e[t]/=s}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:e=>null==t?void 0:t[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};const i={fetchBlob:function(e,i,s){var n,r;return t(this,void 0,void 0,(function*(){const o=yield fetch(e,s);{const e=null===(n=o.clone().body)||void 0===n?void 0:n.getReader(),s=Number(null===(r=o.headers)||void 0===r?void 0:r.get(\"Content-Length\"));let a=0;const h=(n,r)=>t(this,void 0,void 0,(function*(){if(n)return;a+=(null==r?void 0:r.length)||0;const t=Math.round(a/s*100);return i(t),null==e?void 0:e.read().then((({done:t,value:e})=>h(t,e)))}));null==e||e.read().then((({done:t,value:e})=>h(t,e)))}return o.blob()}))}};class s{constructor(){this.listeners={}}on(t,e){return this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),()=>this.un(t,e)}once(t,e){const i=this.on(t,e),s=this.on(t,(()=>{i(),s()}));return i}un(t,e){this.listeners[t]&&(e?this.listeners[t].delete(e):delete this.listeners[t])}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}class n extends s{constructor(t){super(),t.media?this.media=t.media:this.media=document.createElement(\"audio\"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),null!=t.playbackRate&&this.onceMediaEvent(\"canplay\",(()=>{null!=t.playbackRate&&(this.media.playbackRate=t.playbackRate)}))}onMediaEvent(t,e,i){return this.media.addEventListener(t,e,i),()=>this.media.removeEventListener(t,e)}onceMediaEvent(t,e){return this.onMediaEvent(t,e,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||\"\"}revokeSrc(){const t=this.getSrc();t.startsWith(\"blob:\")&&URL.revokeObjectURL(t)}setSrc(t,e){if(this.getSrc()===t)return;this.revokeSrc();const i=e instanceof Blob?URL.createObjectURL(e):t;this.media.src=i,this.media.load()}destroy(){this.media.pause(),this.revokeSrc(),this.media.src=\"\",this.media.load()}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return this.media.currentTime>0&&!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(t,e){null!=e&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class r extends s{constructor(t,e){let i;if(super(),this.timeouts=[],this.isScrolling=!1,this.audioData=null,this.resizeObserver=null,this.isDragging=!1,this.options=t,\"string\"==typeof t.container?i=document.querySelector(t.container):t.container instanceof HTMLElement&&(i=t.container),!i)throw new Error(\"Container not found\");this.parent=i;const[s,n]=this.initHtml();i.appendChild(s),this.container=s,this.scrollContainer=n.querySelector(\".scroll\"),this.wrapper=n.querySelector(\".wrapper\"),this.canvasWrapper=n.querySelector(\".canvases\"),this.progressWrapper=n.querySelector(\".progress\"),this.cursor=n.querySelector(\".cursor\"),e&&n.appendChild(e),this.initEvents()}initEvents(){this.wrapper.addEventListener(\"click\",(t=>{const e=this.wrapper.getBoundingClientRect(),i=(t.clientX-e.left)/e.width;this.emit(\"click\",i)})),this.initDrag(),this.scrollContainer.addEventListener(\"scroll\",(()=>{const{scrollLeft:t,scrollWidth:e,clientWidth:i}=this.scrollContainer,s=t/e,n=(t+i)/e;this.emit(\"scroll\",s,n)}));const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t((()=>this.reRender()))})),this.resizeObserver.observe(this.scrollContainer)}initDrag(){!function(t,e,i,s,n=5){let r=()=>{};if(!t)return r;const o=o=>{if(2===o.button)return;o.preventDefault(),o.stopPropagation();let a=o.clientX,h=o.clientY,l=!1;const d=s=>{s.preventDefault(),s.stopPropagation();const r=s.clientX,o=s.clientY;if(l||Math.abs(r-a)>=n||Math.abs(o-h)>=n){const{left:s,top:n}=t.getBoundingClientRect();l||(l=!0,null==i||i(a-s,h-n)),e(r-a,o-h,r-s,o-n),a=r,h=o}},c=t=>{l&&(t.preventDefault(),t.stopPropagation())},u=()=>{l&&(null==s||s()),r()};document.addEventListener(\"pointermove\",d),document.addEventListener(\"pointerup\",u),document.addEventListener(\"pointerleave\",u),document.addEventListener(\"click\",c,!0),r=()=>{document.removeEventListener(\"pointermove\",d),document.removeEventListener(\"pointerup\",u),document.removeEventListener(\"pointerleave\",u),setTimeout((()=>{document.removeEventListener(\"click\",c,!0)}),10)}};t.addEventListener(\"pointerdown\",o)}(this.wrapper,((t,e,i)=>{this.emit(\"drag\",Math.max(0,Math.min(1,i/this.wrapper.clientWidth)))}),(()=>this.isDragging=!0),(()=>this.isDragging=!1))}getHeight(){return null==this.options.height?128:isNaN(Number(this.options.height))?\"auto\"===this.options.height&&this.parent.clientHeight||128:Number(this.options.height)}initHtml(){const t=document.createElement(\"div\"),e=t.attachShadow({mode:\"open\"});return e.innerHTML=`\\n      <style>\\n        :host {\\n          user-select: none;\\n        }\\n        :host audio {\\n          display: block;\\n          width: 100%;\\n        }\\n        :host .scroll {\\n          overflow-x: auto;\\n          overflow-y: hidden;\\n          width: 100%;\\n          position: relative;\\n          touch-action: none;\\n        }\\n        :host .noScrollbar {\\n          scrollbar-color: transparent;\\n          scrollbar-width: none;\\n        }\\n        :host .noScrollbar::-webkit-scrollbar {\\n          display: none;\\n          -webkit-appearance: none;\\n        }\\n        :host .wrapper {\\n          position: relative;\\n          overflow: visible;\\n          z-index: 2;\\n        }\\n        :host .canvases {\\n          min-height: ${this.getHeight()}px;\\n        }\\n        :host .canvases > div {\\n          position: relative;\\n        }\\n        :host canvas {\\n          display: block;\\n          position: absolute;\\n          top: 0;\\n          image-rendering: pixelated;\\n        }\\n        :host .progress {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 2;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          overflow: hidden;\\n        }\\n        :host .progress > div {\\n          position: relative;\\n        }\\n        :host .cursor {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 5;\\n          top: 0;\\n          left: 0;\\n          height: 100%;\\n          border-radius: 2px;\\n        }\\n      </style>\\n\\n      <div class=\"scroll\" part=\"scroll\">\\n        <div class=\"wrapper\">\\n          <div class=\"canvases\"></div>\\n          <div class=\"progress\" part=\"progress\"></div>\\n          <div class=\"cursor\" part=\"cursor\"></div>\\n        </div>\\n      </div>\\n    `,[t,e]}setOptions(t){this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var t;this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect()}createDelay(t=10){const e={};return this.timeouts.push(e),i=>{e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(i,t)}}convertColorValues(t){if(!Array.isArray(t))return t||\"\";if(t.length<2)return t[0]||\"\";const e=document.createElement(\"canvas\"),i=e.getContext(\"2d\").createLinearGradient(0,0,0,e.height),s=1/(t.length-1);return t.forEach(((t,e)=>{const n=e*s;i.addColorStop(n,t)})),i}renderBars(t,e,i){if(i.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction)return void e.renderFunction(t,i);const s=t[0],n=t[1]||t[0],r=s.length,o=window.devicePixelRatio||1,{width:a,height:h}=i.canvas,l=h/2,d=e.barHeight||1,c=e.barWidth?e.barWidth*o:1,u=e.barGap?e.barGap*o:e.barWidth?c/2:0,p=e.barRadius||0,m=a/(c+u)/r;let g=1;if(e.normalize){g=0;for(let t=0;t<r;t++){const e=Math.abs(s[t]);e>g&&(g=e)}}const v=l/g*d,f=p&&\"roundRect\"in i?\"roundRect\":\"rect\";i.beginPath();let b=0,y=0,C=0;for(let t=0;t<=r;t++){const r=Math.round(t*m);if(r>b){const t=Math.round(y*v),s=t+Math.round(C*v)||1;let n=l-t;\"top\"===e.barAlign?n=0:\"bottom\"===e.barAlign&&(n=h-s),i[f](b*(c+u),n,c,s,p),b=r,y=0,C=0}const o=Math.abs(s[t]||0),a=Math.abs(n[t]||0);o>y&&(y=o),a>C&&(C=a)}i.fill(),i.closePath()}renderSingleCanvas(t,e,i,s,n,r,o,a){const h=window.devicePixelRatio||1,l=document.createElement(\"canvas\"),d=t[0].length;l.width=Math.round(i*(r-n)/d),l.height=s*h,l.style.width=`${Math.floor(l.width/h)}px`,l.style.height=`${s}px`,l.style.left=`${Math.floor(n*i/h/d)}px`,o.appendChild(l);const c=l.getContext(\"2d\");this.renderBars(t.map((t=>t.slice(n,r))),e,c);const u=l.cloneNode();a.appendChild(u);const p=u.getContext(\"2d\");l.width>0&&l.height>0&&p.drawImage(l,0,0),p.globalCompositeOperation=\"source-in\",p.fillStyle=this.convertColorValues(e.progressColor),p.fillRect(0,0,l.width,l.height)}renderWaveform(t,e,i){const s=document.createElement(\"div\"),n=this.getHeight();s.style.height=`${n}px`,this.canvasWrapper.style.minHeight=`${n}px`,this.canvasWrapper.appendChild(s);const o=s.cloneNode();this.progressWrapper.appendChild(o);const{scrollLeft:a,scrollWidth:h,clientWidth:l}=this.scrollContainer,d=t[0].length,c=d/h;let u=Math.min(r.MAX_CANVAS_WIDTH,l);if(e.barWidth||e.barGap){const t=e.barWidth||.5,i=t+(e.barGap||t/2);u%i!=0&&(u=Math.floor(u/i)*i)}const p=Math.floor(Math.abs(a)*c),m=Math.floor(p+u*c),g=m-p,v=(r,a)=>{this.renderSingleCanvas(t,e,i,n,Math.max(0,r),Math.min(a,d),s,o)},f=this.createDelay(),b=this.createDelay(),y=(t,e)=>{v(t,e),t>0&&f((()=>{y(t-g,e-g)}))},C=(t,e)=>{v(t,e),e<d&&b((()=>{C(t+g,e+g)}))};y(p,m),m<d&&C(m,m+g)}render(t){this.timeouts.forEach((t=>t.timeout&&clearTimeout(t.timeout))),this.timeouts=[],this.canvasWrapper.innerHTML=\"\",this.progressWrapper.innerHTML=\"\",this.wrapper.style.width=\"\";const e=window.devicePixelRatio||1,i=this.scrollContainer.clientWidth,s=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrolling=s>i;const n=this.options.fillParent&&!this.isScrolling,r=(n?i:s)*e;if(this.wrapper.style.width=n?\"100%\":`${s}px`,this.scrollContainer.style.overflowX=this.isScrolling?\"auto\":\"hidden\",this.scrollContainer.classList.toggle(\"noScrollbar\",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.options.splitChannels)for(let e=0;e<t.numberOfChannels;e++){const i=Object.assign(Object.assign({},this.options),this.options.splitChannels[e]);this.renderWaveform([t.getChannelData(e)],i,r)}else{const e=[t.getChannelData(0)];t.numberOfChannels>1&&e.push(t.getChannelData(1)),this.renderWaveform(e,this.options,r)}this.audioData=t,this.emit(\"render\")}reRender(){if(!this.audioData)return;const t=this.progressWrapper.clientWidth;this.render(this.audioData);const e=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=e-t}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{clientWidth:i,scrollLeft:s,scrollWidth:n}=this.scrollContainer,r=n*t,o=i/2;if(r>s+(e&&this.options.autoCenter&&!this.isDragging?o:i)||r<s)if(this.options.autoCenter&&!this.isDragging){const t=o/20;r-(s+o)>=t&&r<s+i?this.scrollContainer.scrollLeft+=t:this.scrollContainer.scrollLeft=r-o}else if(this.isDragging){const t=10;this.scrollContainer.scrollLeft=r<s?r-t:r-i+t}else this.scrollContainer.scrollLeft=r;{const{scrollLeft:t}=this.scrollContainer,e=t/n,s=(t+i)/n;this.emit(\"scroll\",e,s)}}renderProgress(t,e){isNaN(t)||(this.progressWrapper.style.width=100*t+\"%\",this.cursor.style.left=100*t+\"%\",this.cursor.style.marginLeft=100===Math.round(100*t)?`-${this.options.cursorWidth}px`:\"\",this.isScrolling&&this.options.autoScroll&&this.scrollIntoView(t,e))}}r.MAX_CANVAS_WIDTH=4e3;class o extends s{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on(\"tick\",(()=>{requestAnimationFrame((()=>{this.emit(\"tick\")}))})),this.emit(\"tick\")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const a={waveColor:\"#999\",progressColor:\"#555\",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class h extends n{static create(t){return new h(t)}constructor(t){var e,i;super({media:t.media,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.duration=null,this.subscriptions=[],this.options=Object.assign({},a,t),this.timer=new o;const s=t.media?void 0:this.getMediaElement();this.renderer=new r(this.options,s),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const n=this.options.url||(null===(e=this.options.media)||void 0===e?void 0:e.currentSrc)||(null===(i=this.options.media)||void 0===i?void 0:i.src);n&&this.load(n,this.options.peaks,this.options.duration)}initTimerEvents(){this.subscriptions.push(this.timer.on(\"tick\",(()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),!0),this.emit(\"timeupdate\",t),this.emit(\"audioprocess\",t)})))}initPlayerEvents(){this.subscriptions.push(this.onMediaEvent(\"timeupdate\",(()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),this.emit(\"timeupdate\",t)})),this.onMediaEvent(\"play\",(()=>{this.emit(\"play\"),this.timer.start()})),this.onMediaEvent(\"pause\",(()=>{this.emit(\"pause\"),this.timer.stop()})),this.onMediaEvent(\"ended\",(()=>{this.emit(\"finish\")})),this.onMediaEvent(\"seeking\",(()=>{this.emit(\"seeking\",this.getCurrentTime())})))}initRendererEvents(){this.subscriptions.push(this.renderer.on(\"click\",(t=>{this.options.interact&&(this.seekTo(t),this.emit(\"interaction\",this.getCurrentTime()),this.emit(\"click\",t))})),this.renderer.on(\"scroll\",((t,e)=>{const i=this.getDuration();this.emit(\"scroll\",t*i,e*i)})),this.renderer.on(\"render\",(()=>{this.emit(\"redraw\")})));{let t;this.subscriptions.push(this.renderer.on(\"drag\",(e=>{this.options.interact&&(this.renderer.renderProgress(e),clearTimeout(t),t=setTimeout((()=>{this.seekTo(e)}),this.isPlaying()?0:200),this.emit(\"interaction\",e*this.getDuration()),this.emit(\"drag\",e))})))}}initPlugins(){var t;(null===(t=this.options.plugins)||void 0===t?void 0:t.length)&&this.options.plugins.forEach((t=>{this.registerPlugin(t)}))}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),null!=t.mediaControls&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t.init(this),this.plugins.push(t),this.subscriptions.push(t.once(\"destroy\",(()=>{this.plugins=this.plugins.filter((e=>e!==t))}))),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}loadAudio(s,n,r,o){return t(this,void 0,void 0,(function*(){if(this.emit(\"load\",s),this.isPlaying()&&this.pause(),this.decodedData=null,this.duration=null,!n&&!r){const t=t=>this.emit(\"loading\",t);n=yield i.fetchBlob(s,t,this.options.fetchParams)}if(this.setSrc(s,n),this.duration=(yield Promise.resolve(o||this.getDuration()))||(yield new Promise((t=>{this.onceMediaEvent(\"loadedmetadata\",(()=>t(this.getDuration())))})))||(yield Promise.resolve(0)),r)this.decodedData=e.createBuffer(r,this.duration);else if(n){const t=yield n.arrayBuffer();this.decodedData=yield e.decode(t,this.options.sampleRate),0!==this.duration&&this.duration!==1/0||(this.duration=this.decodedData.duration)}this.emit(\"decode\",this.duration),this.decodedData&&this.renderer.render(this.decodedData),this.emit(\"ready\",this.duration)}))}load(e,i,s){return t(this,void 0,void 0,(function*(){this.loadAudio(e,void 0,i,s)}))}loadBlob(e,i,s){return t(this,void 0,void 0,(function*(){this.loadAudio(\"blob\",e,i,s)}))}zoom(t){if(!this.decodedData)throw new Error(\"No audio loaded\");this.renderer.zoom(t),this.emit(\"zoom\",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=1,maxLength:e=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error(\"The audio has not been decoded yet\");const s=Math.min(t,this.decodedData.numberOfChannels),n=[];for(let t=0;t<s;t++){const s=this.decodedData.getChannelData(t),r=Math.min(s.length,e),o=s.length/r,a=[];for(let t=0;t<r;t++){const e=s[Math.round(t*o)];a.push(Math.round(e*i)/i)}n.push(a)}return n}getDuration(){return null!==this.duration?this.duration:super.getDuration()}toggleInteraction(t){this.options.interact=t}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}playPause(){return t(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load(\"\",[[0]],.001)}destroy(){this.emit(\"destroy\"),this.plugins.forEach((t=>t.destroy())),this.subscriptions.forEach((t=>t())),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}export{h as default};\n","import WaveSurfer from \"wavesurfer.js\";\nexport default function createWavesurfer(options) {\n    return WaveSurfer.create(options);\n}\nexport { WaveSurfer };\n","export default function createPlugin(pluginObj) {\n    const { plugin, options, creator = 'create' } = pluginObj;\n    const createMethod = plugin[creator];\n    if (!plugin)\n        throw new Error(`Please pass a valid plugin in plugin list`);\n    if (!creator)\n        throw new Error(`Please pass the creator function name in 'creator' property.`);\n    if (typeof createMethod !== 'function') {\n        throw new Error(`\"${creator}\" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);\n    }\n    return createMethod(options);\n}\n","const getDifference = (arr1, arr2) => {\n    const nextArr1 = [...arr1];\n    const nextArr2 = [...arr2];\n    const disabled = nextArr1.filter(item => nextArr2.findIndex((nextItem) => nextItem.name === item.name) === -1);\n    const enabled = nextArr2.filter(item => nextArr1.findIndex(nextItem => nextItem.name === item.name) === -1);\n    return { disabled, enabled };\n    // map arr2 via reduce and remove each item, which name exists in arr1\n};\nexport default getDifference;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useRef, useState } from \"react\";\nimport createWavesurfer from \"../utils/createWavesurfer\";\nimport createPlugin from \"../utils/createPlugin\";\nimport getDifference from \"../utils/getDifference\";\nexport default function useWavesurfer(_a) {\n    var { container, plugins = [], onMount } = _a, props = __rest(_a, [\"container\", \"plugins\", \"onMount\"]);\n    const usedPluginsListCache = useRef([]);\n    const [wavesurfer, setWavesurfer] = useState(null);\n    useEffect(() => {\n        if (!container)\n            return;\n        let _plugins = [];\n        // construct initial plugins list\n        if (plugins) {\n            _plugins = plugins.map(createPlugin);\n        }\n        usedPluginsListCache.current = _plugins;\n        const ws = createWavesurfer(Object.assign(Object.assign({ container }, props), { plugins: _plugins }));\n        onMount === null || onMount === void 0 ? void 0 : onMount(ws);\n        setWavesurfer(ws);\n        return () => {\n            ws.destroy();\n        };\n    }, [container]);\n    // TODO: update waveform appearance\n    // useEffect(() => {}, [props]);\n    // TODO: think about whether its place is this hook?\n    useEffect(() => {\n        if (wavesurfer) {\n            const nextPluginsMap = plugins.map(createPlugin);\n            const { disabled, enabled } = getDifference(usedPluginsListCache.current, nextPluginsMap);\n            usedPluginsListCache.current = nextPluginsMap;\n            disabled.forEach((plugin) => {\n                if (!plugin.name)\n                    return;\n                wavesurfer === null || wavesurfer === void 0 ? void 0 : wavesurfer.destroyPlugin(plugin.name);\n            });\n            enabled.forEach((plugin) => {\n                if (!plugin.name)\n                    return;\n                wavesurfer === null || wavesurfer === void 0 ? void 0 : wavesurfer.addPlugin(plugin).initPlugin(plugin.name);\n            });\n        }\n    }, [plugins]);\n    return wavesurfer;\n}\n","export default function isReactElement(el) {\n    return !!el && typeof el !== \"string\" && typeof el !== \"number\" && typeof el !== \"boolean\" && \"type\" in el && \"props\" in el;\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, useMemo } from \"react\";\nimport WaveForm from \"../components/WaveForm\";\nimport WaveSurferContext from \"../contexts/WaveSurferContext\";\nimport getWaveFormOptionsFromProps from \"../utils/getWaveFormOptionsFromProps\";\nimport useWavesurfer from \"../hooks/useWavesurfer\";\nimport isReactElement from \"../utils/isReactElement\";\n// TODO: research on ref usage\nconst WaveSurfer = (_a) => {\n    var { children, plugins = [], onMount } = _a, props = __rest(_a, [\"children\", \"plugins\", \"onMount\"]);\n    // Search for WaveForm component props\n    // it's making new logic compatible with old one\n    const UNSTABLE_waveFormProps = useMemo(() => {\n        let waveformProps = {};\n        Children.forEach(children, (element) => {\n            if (typeof element !== \"object\" || element === null || [\"string\", \"number\"].includes(typeof element)) {\n                return;\n            }\n            // return if child does not have either props, or type\n            if (!isReactElement(element))\n                return;\n            const { props, type: elType } = element;\n            if (elType === WaveForm) {\n                const { id } = props;\n                waveformProps = getWaveFormOptionsFromProps(props);\n                waveformProps = Object.assign(Object.assign({}, waveformProps), { container: \"#\" + id });\n            }\n        });\n        return waveformProps;\n    }, [children]);\n    const wavesurfer = useWavesurfer(Object.assign(Object.assign({ plugins,\n        // TODO: remove in future\n        onMount }, props), UNSTABLE_waveFormProps));\n    return (React.createElement(WaveSurferContext.Provider, { value: wavesurfer }, children));\n};\nWaveSurfer.defaultProps = {\n    children: null,\n    plugins: [],\n};\nexport default WaveSurfer;\n","/** A simple event emitter that can be used to listen to and emit events. */\nclass EventEmitter {\n    constructor() {\n        this.listeners = {};\n    }\n    /** Subscribe to an event. Returns an unsubscribe function. */\n    on(eventName, listener) {\n        if (!this.listeners[eventName]) {\n            this.listeners[eventName] = new Set();\n        }\n        this.listeners[eventName].add(listener);\n        return () => this.un(eventName, listener);\n    }\n    /** Subscribe to an event only once */\n    once(eventName, listener) {\n        // The actual subscription\n        const unsubscribe = this.on(eventName, listener);\n        // Another subscription that will unsubscribe the actual subscription and itself after the first event\n        const unsubscribeOnce = this.on(eventName, () => {\n            unsubscribe();\n            unsubscribeOnce();\n        });\n        return unsubscribe;\n    }\n    /** Unsubscribe from an event */\n    un(eventName, listener) {\n        if (this.listeners[eventName]) {\n            if (listener) {\n                this.listeners[eventName].delete(listener);\n            }\n            else {\n                delete this.listeners[eventName];\n            }\n        }\n    }\n    /** Clear all events */\n    unAll() {\n        this.listeners = {};\n    }\n    /** Emit an event */\n    emit(eventName, ...args) {\n        if (this.listeners[eventName]) {\n            this.listeners[eventName].forEach((listener) => listener(...args));\n        }\n    }\n}\nexport default EventEmitter;\n","import EventEmitter from './event-emitter.js';\nexport class BasePlugin extends EventEmitter {\n    constructor(options) {\n        super();\n        this.subscriptions = [];\n        this.options = options;\n    }\n    onInit() {\n        // Overridden in plugin definition\n        return;\n    }\n    init(wavesurfer) {\n        this.wavesurfer = wavesurfer;\n        this.onInit();\n    }\n    destroy() {\n        this.emit('destroy');\n        this.subscriptions.forEach((unsubscribe) => unsubscribe());\n    }\n}\nexport default BasePlugin;\n","export function makeDraggable(element, onDrag, onStart, onEnd, threshold = 5) {\n    let unsub = () => {\n        return;\n    };\n    if (!element)\n        return unsub;\n    const down = (e) => {\n        // Ignore the right mouse button\n        if (e.button === 2)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        let startX = e.clientX;\n        let startY = e.clientY;\n        let isDragging = false;\n        const move = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            const x = e.clientX;\n            const y = e.clientY;\n            if (isDragging || Math.abs(x - startX) >= threshold || Math.abs(y - startY) >= threshold) {\n                const { left, top } = element.getBoundingClientRect();\n                if (!isDragging) {\n                    isDragging = true;\n                    onStart === null || onStart === void 0 ? void 0 : onStart(startX - left, startY - top);\n                }\n                onDrag(x - startX, y - startY, x - left, y - top);\n                startX = x;\n                startY = y;\n            }\n        };\n        const click = (e) => {\n            if (isDragging) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        };\n        const up = () => {\n            if (isDragging) {\n                onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n            }\n            unsub();\n        };\n        document.addEventListener('pointermove', move);\n        document.addEventListener('pointerup', up);\n        document.addEventListener('pointerleave', up);\n        document.addEventListener('click', click, true);\n        unsub = () => {\n            document.removeEventListener('pointermove', move);\n            document.removeEventListener('pointerup', up);\n            document.removeEventListener('pointerleave', up);\n            setTimeout(() => {\n                document.removeEventListener('click', click, true);\n            }, 10);\n        };\n    };\n    element.addEventListener('pointerdown', down);\n    return () => {\n        unsub();\n        element.removeEventListener('pointerdown', down);\n    };\n}\n","/**\n * Regions are visual overlays on the waveform that can be used to mark segments of audio.\n * Regions can be clicked on, dragged and resized.\n * You can set the color and content of each region, as well as their HTML content.\n */\nimport BasePlugin from '../base-plugin.js';\nimport { makeDraggable } from '../draggable.js';\nimport EventEmitter from '../event-emitter.js';\nclass SingleRegion extends EventEmitter {\n    constructor(params, totalDuration) {\n        var _a, _b, _c, _d, _e, _f;\n        super();\n        this.totalDuration = totalDuration;\n        this.minLength = 0;\n        this.maxLength = Infinity;\n        this.id = params.id || `region-${Math.random().toString(32).slice(2)}`;\n        this.start = params.start;\n        this.end = (_a = params.end) !== null && _a !== void 0 ? _a : params.start;\n        this.drag = (_b = params.drag) !== null && _b !== void 0 ? _b : true;\n        this.resize = (_c = params.resize) !== null && _c !== void 0 ? _c : true;\n        this.color = (_d = params.color) !== null && _d !== void 0 ? _d : 'rgba(0, 0, 0, 0.1)';\n        this.minLength = (_e = params.minLength) !== null && _e !== void 0 ? _e : this.minLength;\n        this.maxLength = (_f = params.maxLength) !== null && _f !== void 0 ? _f : this.maxLength;\n        this.element = this.initElement(params.content);\n        this.renderPosition();\n        this.initMouseEvents();\n    }\n    initElement(content) {\n        const element = document.createElement('div');\n        const isMarker = this.start === this.end;\n        element.setAttribute('part', `${isMarker ? 'marker' : 'region'} ${this.id}`);\n        element.setAttribute('style', `\n      position: absolute;\n      height: 100%;\n      background-color: ${isMarker ? 'none' : this.color};\n      border-left: ${isMarker ? '2px solid ' + this.color : 'none'};\n      border-radius: 2px;\n      box-sizing: border-box;\n      transition: background-color 0.2s ease;\n      cursor: ${this.drag ? 'grab' : 'default'};\n      pointer-events: all;\n    `);\n        // Init content\n        if (content) {\n            if (typeof content === 'string') {\n                this.content = document.createElement('div');\n                this.content.style.padding = `0.2em ${isMarker ? 0.2 : 0.4}em`;\n                this.content.textContent = content;\n            }\n            else {\n                this.content = content;\n            }\n            this.content.setAttribute('part', 'region-content');\n            element.appendChild(this.content);\n        }\n        // Add resize handles\n        if (!isMarker) {\n            const leftHandle = document.createElement('div');\n            leftHandle.setAttribute('data-resize', 'left');\n            leftHandle.setAttribute('style', `\n        position: absolute;\n        z-index: 2;\n        width: 6px;\n        height: 100%;\n        top: 0;\n        left: 0;\n        border-left: 2px solid rgba(0, 0, 0, 0.5);\n        border-radius: 2px 0 0 2px;\n        cursor: ${this.resize ? 'ew-resize' : 'default'};\n        word-break: keep-all;\n      `);\n            leftHandle.setAttribute('part', 'region-handle region-handle-left');\n            const rightHandle = leftHandle.cloneNode();\n            rightHandle.setAttribute('data-resize', 'right');\n            rightHandle.style.left = '';\n            rightHandle.style.right = '0';\n            rightHandle.style.borderRight = rightHandle.style.borderLeft;\n            rightHandle.style.borderLeft = '';\n            rightHandle.style.borderRadius = '0 2px 2px 0';\n            rightHandle.setAttribute('part', 'region-handle region-handle-right');\n            element.appendChild(leftHandle);\n            element.appendChild(rightHandle);\n        }\n        return element;\n    }\n    renderPosition() {\n        const start = this.start / this.totalDuration;\n        const end = (this.totalDuration - this.end) / this.totalDuration;\n        this.element.style.left = `${start * 100}%`;\n        this.element.style.right = `${end * 100}%`;\n    }\n    initMouseEvents() {\n        const { element } = this;\n        if (!element)\n            return;\n        element.addEventListener('click', (e) => this.emit('click', e));\n        element.addEventListener('mouseenter', (e) => this.emit('over', e));\n        element.addEventListener('mouseleave', (e) => this.emit('leave', e));\n        element.addEventListener('dblclick', (e) => this.emit('dblclick', e));\n        // Drag\n        makeDraggable(element, (dx) => this.onMove(dx), () => this.onStartMoving(), () => this.onEndMoving());\n        // Resize\n        const resizeThreshold = 1;\n        makeDraggable(element.querySelector('[data-resize=\"left\"]'), (dx) => this.onResize(dx, 'start'), () => null, () => this.onEndResizing(), resizeThreshold);\n        makeDraggable(element.querySelector('[data-resize=\"right\"]'), (dx) => this.onResize(dx, 'end'), () => null, () => this.onEndResizing(), resizeThreshold);\n    }\n    onStartMoving() {\n        if (!this.drag)\n            return;\n        this.element.style.cursor = 'grabbing';\n    }\n    onEndMoving() {\n        if (!this.drag)\n            return;\n        this.element.style.cursor = 'grab';\n        this.emit('update-end');\n    }\n    _onUpdate(dx, side) {\n        if (!this.element.parentElement)\n            return;\n        const deltaSeconds = (dx / this.element.parentElement.clientWidth) * this.totalDuration;\n        const newStart = !side || side === 'start' ? this.start + deltaSeconds : this.start;\n        const newEnd = !side || side === 'end' ? this.end + deltaSeconds : this.end;\n        const length = newEnd - newStart;\n        if (newStart >= 0 &&\n            newEnd <= this.totalDuration &&\n            newStart <= newEnd &&\n            length >= this.minLength &&\n            length <= this.maxLength) {\n            this.start = newStart;\n            this.end = newEnd;\n            this.renderPosition();\n            this.emit('update');\n        }\n    }\n    onMove(dx) {\n        if (!this.drag)\n            return;\n        this._onUpdate(dx);\n    }\n    onResize(dx, side) {\n        if (!this.resize)\n            return;\n        this._onUpdate(dx, side);\n    }\n    onEndResizing() {\n        if (!this.resize)\n            return;\n        this.emit('update-end');\n    }\n    _setTotalDuration(totalDuration) {\n        this.totalDuration = totalDuration;\n        this.renderPosition();\n    }\n    /** Play the region from start to end */\n    play() {\n        this.emit('play');\n    }\n    /** Update the region's options */\n    setOptions(options) {\n        var _a, _b;\n        if (options.color) {\n            this.color = options.color;\n            this.element.style.backgroundColor = this.color;\n        }\n        if (options.drag !== undefined) {\n            this.drag = options.drag;\n            this.element.style.cursor = this.drag ? 'grab' : 'default';\n        }\n        if (options.resize !== undefined) {\n            this.resize = options.resize;\n            this.element.querySelectorAll('[data-resize]').forEach((handle) => {\n                ;\n                handle.style.cursor = this.resize ? 'ew-resize' : 'default';\n            });\n        }\n        if (options.start !== undefined || options.end !== undefined) {\n            this.start = (_a = options.start) !== null && _a !== void 0 ? _a : this.start;\n            this.end = (_b = options.end) !== null && _b !== void 0 ? _b : this.end;\n            this.renderPosition();\n        }\n    }\n    /** Remove the region */\n    remove() {\n        this.emit('remove');\n        this.element.remove();\n        // This violates the type but we want to clean up the DOM reference\n        // w/o having to have a nullable type of the element\n        this.element = null;\n    }\n}\nclass RegionsPlugin extends BasePlugin {\n    /** Create an instance of RegionsPlugin */\n    constructor(options) {\n        super(options);\n        this.regions = [];\n        this.regionsContainer = this.initRegionsContainer();\n    }\n    /** Create an instance of RegionsPlugin */\n    static create(options) {\n        return new RegionsPlugin(options);\n    }\n    /** Called by wavesurfer, don't call manually */\n    onInit() {\n        if (!this.wavesurfer) {\n            throw Error('WaveSurfer is not initialized');\n        }\n        this.wavesurfer.getWrapper().appendChild(this.regionsContainer);\n        // Detect when a region is being played\n        let activeRegion = null;\n        this.subscriptions.push(this.wavesurfer.on('timeupdate', (currentTime) => {\n            const playedRegion = this.regions.find((region) => region.start <= currentTime && region.end >= currentTime);\n            if (activeRegion && activeRegion !== playedRegion) {\n                this.emit('region-out', activeRegion);\n                activeRegion = null;\n            }\n            if (playedRegion && playedRegion !== activeRegion) {\n                activeRegion = playedRegion;\n                this.emit('region-in', playedRegion);\n            }\n        }));\n    }\n    initRegionsContainer() {\n        const div = document.createElement('div');\n        div.setAttribute('style', `\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 3;\n      pointer-events: none;\n    `);\n        return div;\n    }\n    /** Get all created regions */\n    getRegions() {\n        return this.regions;\n    }\n    avoidOverlapping(region) {\n        if (!region.content)\n            return;\n        // Check that the label doesn't overlap with other labels\n        // If it does, push it down until it doesn't\n        const div = region.content;\n        const labelLeft = div.getBoundingClientRect().left;\n        const labelWidth = region.element.scrollWidth;\n        const overlap = this.regions\n            .filter((reg) => {\n            if (reg === region || !reg.content)\n                return false;\n            const left = reg.content.getBoundingClientRect().left;\n            const width = reg.element.scrollWidth;\n            return labelLeft < left + width && left < labelLeft + labelWidth;\n        })\n            .map((reg) => { var _a; return ((_a = reg.content) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height) || 0; })\n            .reduce((sum, val) => sum + val, 0);\n        div.style.marginTop = `${overlap}px`;\n    }\n    saveRegion(region) {\n        this.regionsContainer.appendChild(region.element);\n        this.avoidOverlapping(region);\n        this.regions.push(region);\n        this.emit('region-created', region);\n        const regionSubscriptions = [\n            region.on('update-end', () => {\n                this.avoidOverlapping(region);\n                this.emit('region-updated', region);\n            }),\n            region.on('play', () => {\n                var _a, _b;\n                (_a = this.wavesurfer) === null || _a === void 0 ? void 0 : _a.play();\n                (_b = this.wavesurfer) === null || _b === void 0 ? void 0 : _b.setTime(region.start);\n            }),\n            region.on('click', (e) => {\n                this.emit('region-clicked', region, e);\n            }),\n            region.on('dblclick', (e) => {\n                this.emit('region-double-clicked', region, e);\n            }),\n            // Remove the region from the list when it's removed\n            region.once('remove', () => {\n                regionSubscriptions.forEach((unsubscribe) => unsubscribe());\n                this.regions = this.regions.filter((reg) => reg !== region);\n            }),\n        ];\n        this.subscriptions.push(...regionSubscriptions);\n    }\n    /** Create a region with given parameters */\n    addRegion(options) {\n        if (!this.wavesurfer) {\n            throw Error('WaveSurfer is not initialized');\n        }\n        const duration = this.wavesurfer.getDuration();\n        const region = new SingleRegion(options, duration);\n        if (!duration) {\n            this.subscriptions.push(this.wavesurfer.once('ready', (duration) => {\n                region._setTotalDuration(duration);\n                this.saveRegion(region);\n            }));\n        }\n        else {\n            this.saveRegion(region);\n        }\n        return region;\n    }\n    /**\n     * Enable creation of regions by dragging on an empty space on the waveform.\n     * Returns a function to disable the drag selection.\n     */\n    enableDragSelection(options) {\n        var _a, _b;\n        const wrapper = (_b = (_a = this.wavesurfer) === null || _a === void 0 ? void 0 : _a.getWrapper()) === null || _b === void 0 ? void 0 : _b.querySelector('div');\n        if (!wrapper)\n            return () => undefined;\n        const initialSize = 5;\n        let region = null;\n        let startX = 0;\n        return makeDraggable(wrapper, \n        // On drag move\n        (dx, _dy, x) => {\n            if (region) {\n                // Update the end position of the region\n                // If we're dragging to the left, we need to update the start instead\n                region._onUpdate(dx, x > startX ? 'end' : 'start');\n            }\n        }, \n        // On drag start\n        (x) => {\n            startX = x;\n            if (!this.wavesurfer)\n                return;\n            const duration = this.wavesurfer.getDuration();\n            const width = this.wavesurfer.getWrapper().clientWidth;\n            // Calculate the start time of the region\n            const start = (x / width) * duration;\n            // Give the region a small initial size\n            const end = ((x + initialSize) / width) * duration;\n            // Create a region but don't save it until the drag ends\n            region = new SingleRegion(Object.assign(Object.assign({}, options), { start,\n                end }), duration);\n            // Just add it to the DOM for now\n            this.regionsContainer.appendChild(region.element);\n        }, \n        // On drag end\n        () => {\n            if (region) {\n                this.saveRegion(region);\n                region = null;\n            }\n        });\n    }\n    /** Remove all regions */\n    clearRegions() {\n        this.regions.forEach((region) => region.remove());\n    }\n    /** Destroy the plugin and clean up */\n    destroy() {\n        this.clearRegions();\n        super.destroy();\n    }\n}\nexport default RegionsPlugin;\n","import {WaveForm, WaveSurfer} from 'wavesurfer-react';\nimport RegionsPlugin from \"wavesurfer.js/dist/plugins/regions\";\nimport {useCallback, useRef} from \"react\";\nimport WaveSurferInstance from \"wavesurfer.js\";\n\nexport interface AudioPlayerProps {\n    source: unknown\n}\n\nconst plugins = [\n    {\n        plugin: RegionsPlugin,\n        options: {dragSelection: true}\n    }\n]\n\nexport default function AudioPlayer(props: AudioPlayerProps) {\n\n    const wavesurferRef = useRef<null | WaveSurferInstance>(null);\n\n    const mountHandler = useCallback(\n        (waveSurfer) => {\n            wavesurferRef.current = waveSurfer as WaveSurferInstance\n\n            if (wavesurferRef.current) {\n                wavesurferRef.current.load(props.source);\n                wavesurferRef.current.on(\"ready\", () => {\n                    console.log(\"WaveSurfer is ready\");\n                });\n            }\n        }, []\n    )\n\n    const play = useCallback(() => {\n        if (wavesurferRef.current) {\n            wavesurferRef.current.playPause();\n        }\n    }, []);\n\n    return (\n        <div style={{border: 'thin solid red'}}>\n            <h1>Audio Player: WaveSurfer</h1>\n            <WaveSurfer plugins={plugins} onMount={mountHandler}>\n                <WaveForm id=\"waveform\" cursorColor=\"transparent\"/>\n                <div id=\"timeline\"/>\n            </WaveSurfer>\n            <button onClick={play}>Play / Pause</button>\n            <pre>{JSON.stringify({props}, null, 2)}</pre>\n        </div>\n    );\n}\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","WaveSurferContext","createContext","this","WaveForm","id","children","React","waveFormPropsList","getWaveFormOptionsFromProps","props","waveFormOptions","optionName","t","s","r","o","i","u","v","y","C","createWavesurfer","options","WaveSurfer","createPlugin","pluginObj","plugin","creator","createMethod","getDifference","arr1","arr2","nextArr1","nextArr2","disabled","item","nextItem","enabled","__rest","useWavesurfer","_a","container","plugins","onMount","usedPluginsListCache","useRef","wavesurfer","setWavesurfer","useState","useEffect","_plugins","ws","nextPluginsMap","isReactElement","el","UNSTABLE_waveFormProps","useMemo","waveformProps","Children","element","elType","EventEmitter","eventName","listener","unsubscribe","unsubscribeOnce","args","BasePlugin","makeDraggable","onDrag","onStart","onEnd","threshold","unsub","down","startX","startY","isDragging","move","x","left","top","click","up","SingleRegion","params","totalDuration","_b","_c","_d","_e","_f","content","isMarker","leftHandle","rightHandle","start","end","dx","resizeThreshold","side","deltaSeconds","newStart","newEnd","length","handle","RegionsPlugin","activeRegion","currentTime","playedRegion","region","div","labelLeft","labelWidth","overlap","reg","width","sum","val","regionSubscriptions","duration","wrapper","initialSize","_dy","AudioPlayer","wavesurferRef","mountHandler","useCallback","waveSurfer","play","jsxs","jsx"],"mappings":";;;;;;;;GASa,IAAIA,EAAEC,EAAiBC,EAAE,OAAO,IAAI,eAAe,EAAEC,GAAE,OAAO,IAAI,gBAAgB,EAAEC,GAAE,OAAO,UAAU,eAAeC,GAAEL,EAAE,mDAAmD,kBAAkBM,GAAE,CAAC,IAAI,GAAG,IAAI,GAAG,OAAO,GAAG,SAAS,EAAE,EAClP,SAASC,EAAEC,EAAEC,EAAEC,EAAE,CAAC,IAAIC,EAAEC,EAAE,GAAGC,EAAE,KAAKC,EAAE,KAAcJ,IAAT,SAAaG,EAAE,GAAGH,GAAYD,EAAE,MAAX,SAAiBI,EAAE,GAAGJ,EAAE,KAAcA,EAAE,MAAX,SAAiBK,EAAEL,EAAE,KAAK,IAAIE,KAAKF,EAAEL,GAAE,KAAKK,EAAEE,CAAC,GAAG,CAACL,GAAE,eAAeK,CAAC,IAAIC,EAAED,CAAC,EAAEF,EAAEE,CAAC,GAAG,GAAGH,GAAGA,EAAE,aAAa,IAAIG,KAAKF,EAAED,EAAE,aAAaC,EAAWG,EAAED,CAAC,IAAZ,SAAgBC,EAAED,CAAC,EAAEF,EAAEE,CAAC,GAAG,MAAM,CAAC,SAAST,EAAE,KAAKM,EAAE,IAAIK,EAAE,IAAIC,EAAE,MAAMF,EAAE,OAAOP,GAAE,OAAO,CAAC,YAAkBF,GAAaY,EAAA,IAACR,EAAEQ,EAAA,KAAaR,ECPxWS,EAAA,QAAiBf,kBCFnB,MAAMgB,GAAoBC,EAAa,cAAC,IAAI,ECD9BC,YAAQA,WAAK,OCAbA,YAAQA,WAAK,OCC3B,MAAMC,EAAW,CAAC,CAAE,GAAAC,EAAK,WAAY,SAAAC,CAAQ,IAClCC,EAAM,cAAc,MAAO,CAAE,GAAIF,CAAE,EAAIC,CAAQ,ECF7CE,GAAoB,CAC7B,YACA,eACA,uBACA,aACA,UACA,kBACA,SACA,YACA,eACA,YACA,WACA,oBACA,cACA,cACA,aACA,cACA,SACA,gBACA,WACA,gBACA,iBACA,gBACA,YACA,cACA,YACA,gBACA,aACA,gBACA,8BACA,WACA,aACA,eACA,aACA,gBACA,YACA,iBACA,wBACA,2BACA,WACA,oBACA,MACA,uBACA,WACA,KACJ,EACMC,GAA+BC,GAC5BA,EAEEF,GAAkB,OAAO,CAACG,EAAiBC,IACzC,OAAO,UAAU,eAAe,KAAKF,EAAOE,CAAU,EAGpD,OAAO,OAAO,OAAO,OAAO,CAAA,EAAID,CAAe,EAAG,CAAE,CAACC,CAAU,EAAGF,EAAME,CAAU,CAAG,CAAA,EAFjFD,EAGZ,CAAE,CAAA,EANM,GChDf,SAASE,EAAEA,EAAEhB,EAAE,EAAEiB,EAAE,CAAC,OAAO,IAAI,IAAI,EAAE,UAAW,SAAS,EAAEC,EAAE,CAAC,SAASC,EAAEH,EAAE,CAAC,GAAG,CAACf,EAAEgB,EAAE,KAAKD,CAAC,CAAC,CAAC,OAAOA,EAAE,CAACE,EAAEF,CAAC,CAAC,CAAC,CAAC,SAAS,EAAEA,EAAE,CAAC,GAAG,CAACf,EAAEgB,EAAE,MAAMD,CAAC,CAAC,CAAC,OAAOA,EAAE,CAACE,EAAEF,CAAC,CAAC,CAAC,CAAC,SAASf,EAAEe,EAAE,CAAC,IAAIhB,EAAEgB,EAAE,KAAK,EAAEA,EAAE,KAAK,GAAGhB,EAAEgB,EAAE,MAAMhB,aAAa,EAAEA,EAAE,IAAI,EAAG,SAASgB,EAAE,CAACA,EAAEhB,CAAC,CAAC,CAAG,GAAE,KAAKmB,EAAE,CAAC,CAAC,CAAClB,GAAGgB,EAAEA,EAAE,MAAMD,EAAEhB,GAAG,EAAE,GAAG,KAAM,CAAA,CAAC,CAAG,CAAA,CAAqD,MAAMA,EAAE,CAAC,OAAO,SAASA,EAAEoB,EAAE,CAAC,OAAOJ,EAAE,KAAK,OAAO,OAAQ,WAAW,CAAC,MAAMA,EAAE,IAAI,aAAa,CAAC,WAAWI,CAAC,CAAC,EAAEH,EAAED,EAAE,gBAAgBhB,CAAC,EAAE,OAAOiB,EAAE,QAAS,IAAID,EAAE,MAAO,CAAA,EAAGC,CAAC,CAAG,CAAA,EAAE,aAAa,SAASD,EAAEhB,EAAE,CAAC,OAAgB,OAAOgB,EAAE,CAAC,GAApB,WAAwBA,EAAE,CAACA,CAAC,GAAG,SAASA,EAAE,CAAC,MAAM,EAAEA,EAAE,CAAC,EAAE,GAAG,EAAE,KAAMA,GAAGA,EAAE,GAAGA,EAAE,IAAK,CAAC,MAAMI,EAAE,EAAE,OAAO,IAAI,EAAE,EAAE,QAAQJ,EAAE,EAAEA,EAAEI,EAAEJ,IAAI,CAAC,MAAMI,EAAE,KAAK,IAAI,EAAEJ,CAAC,CAAC,EAAEI,EAAE,IAAI,EAAEA,EAAE,CAAC,UAAUpB,KAAKgB,EAAE,QAAQA,EAAE,EAAEA,EAAEI,EAAEJ,IAAIhB,EAAEgB,CAAC,GAAG,CAAC,CAAC,EAAEA,CAAC,EAAE,CAAC,SAAShB,EAAE,OAAOgB,EAAE,CAAC,EAAE,OAAO,WAAWA,EAAE,CAAC,EAAE,OAAOhB,EAAE,iBAAiBgB,EAAE,OAAO,eAAehB,GAASgB,GAAN,KAAQ,OAAOA,EAAEhB,CAAC,EAAE,gBAAgB,YAAY,UAAU,gBAAgB,cAAc,YAAY,UAAU,aAAa,CAAC,CAAC,EAAQoB,GAAE,CAAC,UAAU,SAASpB,EAAEoB,EAAEH,EAAE,CAAC,IAAIzB,EAAE0B,EAAE,OAAOF,EAAE,KAAK,OAAO,OAAQ,WAAW,CAAC,MAAMG,EAAE,MAAM,MAAMnB,EAAEiB,CAAC,EAAE,CAAC,MAAMjB,GAAUR,EAAE2B,EAAE,MAAK,EAAG,QAApB,MAAoC3B,IAAT,OAAW,OAAOA,EAAE,YAAYyB,EAAE,QAAeC,EAAEC,EAAE,WAAZ,MAA+BD,IAAT,OAAW,OAAOA,EAAE,IAAI,gBAAgB,CAAC,EAAE,IAAItB,EAAE,EAAE,MAAMK,EAAE,CAACT,EAAE0B,IAAIF,EAAE,KAAK,OAAO,OAAQ,WAAW,CAAC,GAAGxB,EAAE,OAAOI,IAAUsB,GAAN,KAAQ,OAAOA,EAAE,SAAS,EAAE,MAAMF,EAAE,KAAK,MAAMpB,EAAEqB,EAAE,GAAG,EAAE,OAAOG,EAAEJ,CAAC,EAAQhB,GAAN,KAAQ,OAAOA,EAAE,OAAO,KAAM,CAAC,CAAC,KAAKgB,EAAE,MAAMhB,CAAC,IAAIC,EAAEe,EAAEhB,CAAC,CAAG,CAAA,GAAUA,GAAN,MAASA,EAAE,OAAO,KAAM,CAAC,CAAC,KAAKgB,EAAE,MAAMhB,CAAC,IAAIC,EAAEe,EAAEhB,CAAC,CAAG,CAAA,CAAC,OAAOmB,EAAE,KAAI,CAAE,CAAG,CAAA,CAAC,EAAE,MAAMF,CAAC,CAAC,aAAa,CAAC,KAAK,UAAU,EAAE,CAAC,GAAG,EAAEjB,EAAE,CAAC,OAAO,KAAK,UAAU,CAAC,IAAI,KAAK,UAAU,CAAC,EAAE,IAAI,KAAK,KAAK,UAAU,CAAC,EAAE,IAAIA,CAAC,EAAE,IAAI,KAAK,GAAG,EAAEA,CAAC,CAAC,CAAC,KAAK,EAAEA,EAAE,CAAC,MAAMoB,EAAE,KAAK,GAAG,EAAEpB,CAAC,EAAEiB,EAAE,KAAK,GAAG,EAAG,IAAI,CAACG,EAAG,EAACH,EAAG,CAAA,GAAI,OAAOG,CAAC,CAAC,GAAG,EAAEpB,EAAE,CAAC,KAAK,UAAU,CAAC,IAAIA,EAAE,KAAK,UAAU,CAAC,EAAE,OAAOA,CAAC,EAAE,OAAO,KAAK,UAAU,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,UAAU,EAAE,CAAC,KAAK,KAAKA,EAAE,CAAC,KAAK,UAAU,CAAC,GAAG,KAAK,UAAU,CAAC,EAAE,QAASgB,GAAGA,EAAE,GAAGhB,CAAC,CAAC,CAAE,CAAC,CAAC,MAAMR,WAAUyB,CAAC,CAAC,YAAY,EAAE,CAAC,MAAO,EAAC,EAAE,MAAM,KAAK,MAAM,EAAE,MAAM,KAAK,MAAM,SAAS,cAAc,OAAO,EAAE,EAAE,gBAAgB,KAAK,MAAM,SAAS,IAAI,EAAE,WAAW,KAAK,MAAM,SAAS,IAAU,EAAE,cAAR,MAAsB,KAAK,eAAe,UAAW,IAAI,CAAO,EAAE,cAAR,OAAuB,KAAK,MAAM,aAAa,EAAE,aAAa,CAAC,CAAE,CAAC,aAAa,EAAEjB,EAAEoB,EAAE,CAAC,OAAO,KAAK,MAAM,iBAAiB,EAAEpB,EAAEoB,CAAC,EAAE,IAAI,KAAK,MAAM,oBAAoB,EAAEpB,CAAC,CAAC,CAAC,eAAe,EAAEA,EAAE,CAAC,OAAO,KAAK,aAAa,EAAEA,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,KAAK,MAAM,YAAY,KAAK,MAAM,KAAK,EAAE,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,OAAQ,EAAC,EAAE,WAAW,OAAO,GAAG,IAAI,gBAAgB,CAAC,CAAC,CAAC,OAAO,EAAEA,EAAE,CAAC,GAAG,KAAK,OAAM,IAAK,EAAE,OAAO,KAAK,UAAW,EAAC,MAAMoB,EAAEpB,aAAa,KAAK,IAAI,gBAAgBA,CAAC,EAAE,EAAE,KAAK,MAAM,IAAIoB,EAAE,KAAK,MAAM,KAAM,CAAA,CAAC,SAAS,CAAC,KAAK,MAAM,MAAK,EAAG,KAAK,UAAS,EAAG,KAAK,MAAM,IAAI,GAAG,KAAK,MAAM,MAAM,CAAC,MAAM,CAAC,OAAO,KAAK,MAAM,KAAI,CAAE,CAAC,OAAO,CAAC,KAAK,MAAM,MAAO,CAAA,CAAC,WAAW,CAAC,OAAO,KAAK,MAAM,YAAY,GAAG,CAAC,KAAK,MAAM,QAAQ,CAAC,KAAK,MAAM,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,MAAM,YAAY,CAAC,CAAC,aAAa,CAAC,OAAO,KAAK,MAAM,QAAQ,CAAC,gBAAgB,CAAC,OAAO,KAAK,MAAM,WAAW,CAAC,WAAW,CAAC,OAAO,KAAK,MAAM,MAAM,CAAC,UAAU,EAAE,CAAC,KAAK,MAAM,OAAO,CAAC,CAAC,UAAU,CAAC,OAAO,KAAK,MAAM,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,MAAM,MAAM,CAAC,CAAC,iBAAiB,CAAC,OAAO,KAAK,MAAM,YAAY,CAAC,gBAAgB,EAAEpB,EAAE,CAAOA,GAAN,OAAU,KAAK,MAAM,eAAeA,GAAG,KAAK,MAAM,aAAa,CAAC,CAAC,iBAAiB,CAAC,OAAO,KAAK,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,KAAK,MAAM,UAAU,CAAC,CAAC,CAAC,CAAC,MAAMkB,UAAUD,CAAC,CAAC,YAAY,EAAEjB,EAAE,CAAC,IAAIoB,EAAE,GAAG,QAAQ,KAAK,SAAS,GAAG,KAAK,YAAY,GAAG,KAAK,UAAU,KAAK,KAAK,eAAe,KAAK,KAAK,WAAW,GAAG,KAAK,QAAQ,EAAY,OAAO,EAAE,WAAnB,SAA6BA,EAAE,SAAS,cAAc,EAAE,SAAS,EAAE,EAAE,qBAAqB,cAAcA,EAAE,EAAE,WAAW,CAACA,EAAE,MAAM,IAAI,MAAM,qBAAqB,EAAE,KAAK,OAAOA,EAAE,KAAK,CAACH,EAAEzB,CAAC,EAAE,KAAK,SAAQ,EAAG4B,EAAE,YAAYH,CAAC,EAAE,KAAK,UAAUA,EAAE,KAAK,gBAAgBzB,EAAE,cAAc,SAAS,EAAE,KAAK,QAAQA,EAAE,cAAc,UAAU,EAAE,KAAK,cAAcA,EAAE,cAAc,WAAW,EAAE,KAAK,gBAAgBA,EAAE,cAAc,WAAW,EAAE,KAAK,OAAOA,EAAE,cAAc,SAAS,EAAEQ,GAAGR,EAAE,YAAYQ,CAAC,EAAE,KAAK,WAAU,CAAE,CAAC,YAAY,CAAC,KAAK,QAAQ,iBAAiB,QAASgB,GAAG,CAAC,MAAM,EAAE,KAAK,QAAQ,wBAAwBI,GAAGJ,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,KAAK,KAAK,QAAQI,CAAC,CAAC,GAAI,KAAK,SAAQ,EAAG,KAAK,gBAAgB,iBAAiB,SAAU,IAAI,CAAC,KAAK,CAAC,WAAWJ,EAAE,YAAY,EAAE,YAAYI,CAAC,EAAE,KAAK,gBAAgB,EAAEJ,EAAE,EAAExB,GAAGwB,EAAEI,GAAG,EAAE,KAAK,KAAK,SAAS,EAAE5B,CAAC,CAAC,CAAC,EAAG,MAAM,EAAE,KAAK,YAAY,GAAG,EAAE,KAAK,eAAe,IAAI,eAAgB,IAAI,CAAC,EAAG,IAAI,KAAK,UAAY,CAAA,GAAI,KAAK,eAAe,QAAQ,KAAK,eAAe,CAAC,CAAC,UAAU,EAAE,SAAS,EAAEQ,EAAEoB,EAAEH,EAAEzB,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,GAAG,GAAG,CAAC,EAAE,OAAO,EAAE,MAAM2B,EAAEA,GAAG,CAAC,GAAOA,EAAE,SAAN,EAAa,OAAOA,EAAE,eAAgB,EAACA,EAAE,kBAAkB,IAAIvB,EAAEuB,EAAE,QAAQ,EAAEA,EAAE,QAAQ7B,EAAE,GAAG,MAAMS,EAAEkB,GAAG,CAACA,EAAE,iBAAiBA,EAAE,gBAAe,EAAG,MAAMC,EAAED,EAAE,QAAQE,EAAEF,EAAE,QAAQ,GAAG3B,GAAG,KAAK,IAAI4B,EAAEtB,CAAC,GAAGJ,GAAG,KAAK,IAAI2B,EAAE,CAAC,GAAG3B,EAAE,CAAC,KAAK,CAAC,KAAKyB,EAAE,IAAIzB,CAAC,EAAE,EAAE,wBAAwBF,IAAIA,EAAE,GAAS8B,GAAN,MAASA,EAAExB,EAAEqB,EAAE,EAAEzB,CAAC,GAAGQ,EAAEkB,EAAEtB,EAAEuB,EAAE,EAAED,EAAED,EAAEE,EAAE3B,CAAC,EAAEI,EAAEsB,EAAE,EAAEC,CAAC,CAAC,EAAExB,EAAEqB,GAAG,CAAC1B,IAAI0B,EAAE,eAAgB,EAACA,EAAE,gBAAiB,EAAC,EAAE,EAAE,IAAI,CAAC1B,IAAU2B,GAAN,MAASA,EAAG,GAAE,EAAC,CAAE,EAAE,SAAS,iBAAiB,cAAclB,CAAC,EAAE,SAAS,iBAAiB,YAAY,CAAC,EAAE,SAAS,iBAAiB,eAAe,CAAC,EAAE,SAAS,iBAAiB,QAAQJ,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,SAAS,oBAAoB,cAAcI,CAAC,EAAE,SAAS,oBAAoB,YAAY,CAAC,EAAE,SAAS,oBAAoB,eAAe,CAAC,EAAE,WAAY,IAAI,CAAC,SAAS,oBAAoB,QAAQJ,EAAE,EAAE,CAAC,EAAG,EAAE,CAAC,CAAC,EAAE,EAAE,iBAAiB,cAAcwB,CAAC,CAAC,GAAE,KAAK,QAAS,CAAC,EAAEnB,EAAEoB,IAAI,CAAC,KAAK,KAAK,OAAO,KAAK,IAAI,EAAE,KAAK,IAAI,EAAEA,EAAE,KAAK,QAAQ,WAAW,CAAC,CAAC,CAAC,EAAI,IAAI,KAAK,WAAW,GAAK,IAAI,KAAK,WAAW,EAAI,CAAA,CAAC,WAAW,CAAC,OAAa,KAAK,QAAQ,QAAnB,KAA0B,IAAI,MAAM,OAAO,KAAK,QAAQ,MAAM,CAAC,EAAW,KAAK,QAAQ,SAAtB,QAA8B,KAAK,OAAO,cAAc,IAAI,OAAO,KAAK,QAAQ,MAAM,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,SAAS,cAAc,KAAK,EAAEpB,EAAE,EAAE,aAAa,CAAC,KAAK,MAAM,CAAC,EAAE,OAAOA,EAAE,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAkvB,KAAK,UAAW,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA0hC,CAAC,EAAEA,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,QAAQ,EAAE,KAAK,SAAU,CAAA,CAAC,YAAY,CAAC,OAAO,KAAK,OAAO,CAAC,WAAW,CAAC,OAAO,KAAK,gBAAgB,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,UAAU,UAAiB,EAAE,KAAK,kBAAf,MAAyC,IAAT,QAAY,EAAE,YAAY,CAAC,YAAY,EAAE,GAAG,CAAC,MAAMA,EAAE,GAAG,OAAO,KAAK,SAAS,KAAKA,CAAC,EAAEoB,GAAG,CAACpB,EAAE,SAAS,aAAaA,EAAE,OAAO,EAAEA,EAAE,QAAQ,WAAWoB,EAAE,CAAC,CAAC,CAAC,CAAC,mBAAmB,EAAE,CAAC,GAAG,CAAC,MAAM,QAAQ,CAAC,EAAE,OAAO,GAAG,GAAG,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,GAAG,GAAG,MAAMpB,EAAE,SAAS,cAAc,QAAQ,EAAEoB,EAAEpB,EAAE,WAAW,IAAI,EAAE,qBAAqB,EAAE,EAAE,EAAEA,EAAE,MAAM,EAAEiB,EAAE,GAAG,EAAE,OAAO,GAAG,OAAO,EAAE,QAAS,CAACD,EAAEhB,IAAI,CAAC,MAAMR,EAAEQ,EAAEiB,EAAEG,EAAE,aAAa5B,EAAEwB,CAAC,CAAC,CAAG,EAACI,CAAC,CAAC,WAAW,EAAEpB,EAAEoB,EAAE,CAAC,GAAGA,EAAE,UAAU,KAAK,mBAAmBpB,EAAE,SAAS,EAAEA,EAAE,eAAe,OAAO,KAAKA,EAAE,eAAe,EAAEoB,CAAC,EAAE,MAAMH,EAAE,EAAE,CAAC,EAAEzB,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,EAAEyB,EAAE,OAAOE,EAAE,OAAO,kBAAkB,EAAE,CAAC,MAAMvB,EAAE,OAAOK,CAAC,EAAEmB,EAAE,OAAO9B,EAAEW,EAAE,EAAEF,EAAEC,EAAE,WAAW,EAAEL,EAAEK,EAAE,SAASA,EAAE,SAASmB,EAAE,EAAEE,EAAErB,EAAE,OAAOA,EAAE,OAAOmB,EAAEnB,EAAE,SAASL,EAAE,EAAE,EAAEF,EAAEO,EAAE,WAAW,EAAET,EAAEK,GAAGD,EAAE0B,GAAG,EAAE,IAAIxB,EAAE,EAAE,GAAGG,EAAE,UAAU,CAACH,EAAE,EAAE,QAAQmB,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMhB,EAAE,KAAK,IAAIiB,EAAED,CAAC,CAAC,EAAEhB,EAAEH,IAAIA,EAAEG,EAAE,CAAC,CAAC,MAAMsB,EAAEhC,EAAEO,EAAEE,EAAEZ,EAAEM,GAAG,cAAc2B,EAAE,YAAY,OAAOA,EAAE,UAAS,EAAG,IAAItB,EAAE,EAAEyB,EAAE,EAAEC,EAAE,EAAE,QAAQR,EAAE,EAAEA,GAAG,EAAEA,IAAI,CAAC,MAAME,EAAE,KAAK,MAAMF,EAAEzB,CAAC,EAAE,GAAG2B,EAAEpB,EAAE,CAAC,MAAMkB,EAAE,KAAK,MAAMO,EAAED,CAAC,EAAEL,EAAED,EAAE,KAAK,MAAMQ,EAAEF,CAAC,GAAG,EAAE,IAAI9B,EAAEF,EAAE0B,EAAUhB,EAAE,WAAV,MAAmBR,EAAE,EAAaQ,EAAE,WAAb,WAAwBR,EAAES,EAAEgB,GAAGG,EAAEjC,CAAC,EAAEW,GAAGH,EAAE0B,GAAG7B,EAAEG,EAAEsB,EAAExB,CAAC,EAAEK,EAAEoB,EAAEK,EAAE,EAAEC,EAAE,CAAC,CAAC,MAAML,EAAE,KAAK,IAAIF,EAAED,CAAC,GAAG,CAAC,EAAEpB,EAAE,KAAK,IAAIJ,EAAEwB,CAAC,GAAG,CAAC,EAAEG,EAAEI,IAAIA,EAAEJ,GAAGvB,EAAE4B,IAAIA,EAAE5B,EAAE,CAACwB,EAAE,KAAI,EAAGA,EAAE,UAAW,CAAA,CAAC,mBAAmB,EAAEpB,EAAEoB,EAAEH,EAAEzB,EAAE,EAAE2B,EAAEvB,EAAE,CAAC,MAAMK,EAAE,OAAO,kBAAkB,EAAEX,EAAE,SAAS,cAAc,QAAQ,EAAES,EAAE,EAAE,CAAC,EAAE,OAAOT,EAAE,MAAM,KAAK,MAAM8B,GAAG,EAAE5B,GAAGO,CAAC,EAAET,EAAE,OAAO2B,EAAEhB,EAAEX,EAAE,MAAM,MAAM,GAAG,KAAK,MAAMA,EAAE,MAAMW,CAAC,CAAC,KAAKX,EAAE,MAAM,OAAO,GAAG2B,CAAC,KAAK3B,EAAE,MAAM,KAAK,GAAG,KAAK,MAAME,EAAE4B,EAAEnB,EAAEF,CAAC,CAAC,KAAKoB,EAAE,YAAY7B,CAAC,EAAE,MAAMK,EAAEL,EAAE,WAAW,IAAI,EAAE,KAAK,WAAW,EAAE,IAAK0B,GAAGA,EAAE,MAAMxB,EAAE,CAAC,GAAIQ,EAAEL,CAAC,EAAE,MAAM0B,EAAE/B,EAAE,UAAS,EAAGM,EAAE,YAAYyB,CAAC,EAAE,MAAM5B,EAAE4B,EAAE,WAAW,IAAI,EAAE/B,EAAE,MAAM,GAAGA,EAAE,OAAO,GAAGG,EAAE,UAAUH,EAAE,EAAE,CAAC,EAAEG,EAAE,yBAAyB,YAAYA,EAAE,UAAU,KAAK,mBAAmBO,EAAE,aAAa,EAAEP,EAAE,SAAS,EAAE,EAAEH,EAAE,MAAMA,EAAE,MAAM,CAAC,CAAC,eAAe,EAAEU,EAAEoB,EAAE,CAAC,MAAMH,EAAE,SAAS,cAAc,KAAK,EAAEzB,EAAE,KAAK,YAAYyB,EAAE,MAAM,OAAO,GAAGzB,CAAC,KAAK,KAAK,cAAc,MAAM,UAAU,GAAGA,CAAC,KAAK,KAAK,cAAc,YAAYyB,CAAC,EAAE,MAAME,EAAEF,EAAE,YAAY,KAAK,gBAAgB,YAAYE,CAAC,EAAE,KAAK,CAAC,WAAW,EAAE,YAAYlB,EAAE,YAAYX,CAAC,EAAE,KAAK,gBAAgBS,EAAE,EAAE,CAAC,EAAE,OAAO,EAAEA,EAAEE,EAAE,IAAIoB,EAAE,KAAK,IAAIH,EAAE,iBAAiB5B,CAAC,EAAE,GAAGU,EAAE,UAAUA,EAAE,OAAO,CAAC,MAAMgB,EAAEhB,EAAE,UAAU,GAAGoB,EAAEJ,GAAGhB,EAAE,QAAQgB,EAAE,GAAGK,EAAED,GAAG,IAAIC,EAAE,KAAK,MAAMA,EAAED,CAAC,EAAEA,EAAE,CAAC,MAAM3B,EAAE,KAAK,MAAM,KAAK,IAAI,CAAC,EAAE,CAAC,EAAEF,EAAE,KAAK,MAAME,EAAE4B,EAAE,CAAC,EAAE,EAAE9B,EAAEE,EAAE,EAAE,CAACyB,EAAEtB,IAAI,CAAC,KAAK,mBAAmB,EAAEI,EAAEoB,EAAE5B,EAAE,KAAK,IAAI,EAAE0B,CAAC,EAAE,KAAK,IAAItB,EAAEG,CAAC,EAAEkB,EAAEE,CAAC,CAAC,EAAEhC,EAAE,KAAK,YAAW,EAAGW,EAAE,KAAK,cAAcyB,EAAE,CAACP,EAAEhB,IAAI,CAAC,EAAEgB,EAAEhB,CAAC,EAAEgB,EAAE,GAAG7B,EAAG,IAAI,CAACoC,EAAEP,EAAE,EAAEhB,EAAE,CAAC,CAAC,CAAC,CAAE,EAAEwB,EAAE,CAACR,EAAEhB,IAAI,CAAC,EAAEgB,EAAEhB,CAAC,EAAEA,EAAED,GAAGD,EAAG,IAAI,CAAC0B,EAAER,EAAE,EAAEhB,EAAE,CAAC,CAAC,CAAG,CAAA,EAAEuB,EAAE9B,EAAEF,CAAC,EAAEA,EAAEQ,GAAGyB,EAAEjC,EAAEA,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,KAAK,SAAS,QAASyB,GAAGA,EAAE,SAAS,aAAaA,EAAE,OAAO,CAAG,EAAC,KAAK,SAAS,CAAA,EAAG,KAAK,cAAc,UAAU,GAAG,KAAK,gBAAgB,UAAU,GAAG,KAAK,QAAQ,MAAM,MAAM,GAAG,MAAMhB,EAAE,OAAO,kBAAkB,EAAEoB,EAAE,KAAK,gBAAgB,YAAYH,EAAE,KAAK,KAAK,EAAE,UAAU,KAAK,QAAQ,aAAa,EAAE,EAAE,KAAK,YAAYA,EAAEG,EAAE,MAAM5B,EAAE,KAAK,QAAQ,YAAY,CAAC,KAAK,YAAY,GAAGA,EAAE4B,EAAEH,GAAGjB,EAAE,GAAG,KAAK,QAAQ,MAAM,MAAMR,EAAE,OAAO,GAAGyB,CAAC,KAAK,KAAK,gBAAgB,MAAM,UAAU,KAAK,YAAY,OAAO,SAAS,KAAK,gBAAgB,UAAU,OAAO,cAAc,CAAC,CAAC,KAAK,QAAQ,aAAa,EAAE,KAAK,OAAO,MAAM,gBAAgB,GAAG,KAAK,QAAQ,aAAa,KAAK,QAAQ,aAAa,GAAG,KAAK,OAAO,MAAM,MAAM,GAAG,KAAK,QAAQ,WAAW,KAAK,KAAK,QAAQ,cAAc,QAAQjB,EAAE,EAAEA,EAAE,EAAE,iBAAiBA,IAAI,CAAC,MAAMoB,EAAE,OAAO,OAAO,OAAO,OAAO,CAAA,EAAG,KAAK,OAAO,EAAE,KAAK,QAAQ,cAAcpB,CAAC,CAAC,EAAE,KAAK,eAAe,CAAC,EAAE,eAAeA,CAAC,CAAC,EAAEoB,EAAE,CAAC,CAAC,KAAK,CAAC,MAAMpB,EAAE,CAAC,EAAE,eAAe,CAAC,CAAC,EAAE,EAAE,iBAAiB,GAAGA,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC,EAAE,KAAK,eAAeA,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE,KAAK,KAAK,QAAQ,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,UAAU,OAAO,MAAM,EAAE,KAAK,gBAAgB,YAAY,KAAK,OAAO,KAAK,SAAS,EAAE,MAAMA,EAAE,KAAK,gBAAgB,YAAY,KAAK,gBAAgB,YAAYA,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,QAAQ,YAAY,EAAE,KAAK,SAAQ,CAAE,CAAC,eAAe,EAAEA,EAAE,GAAG,CAAC,KAAK,CAAC,YAAYoB,EAAE,WAAWH,EAAE,YAAYzB,CAAC,EAAE,KAAK,gBAAgB,EAAEA,EAAE,EAAE2B,EAAEC,EAAE,EAAE,GAAG,EAAEH,GAAGjB,GAAG,KAAK,QAAQ,YAAY,CAAC,KAAK,WAAWmB,EAAEC,IAAI,EAAEH,EAAE,GAAG,KAAK,QAAQ,YAAY,CAAC,KAAK,WAAW,CAAC,MAAMD,EAAEG,EAAE,GAAG,GAAGF,EAAEE,IAAIH,GAAG,EAAEC,EAAEG,EAAE,KAAK,gBAAgB,YAAYJ,EAAE,KAAK,gBAAgB,WAAW,EAAEG,CAAC,MAAS,KAAK,WAAuB,KAAK,gBAAgB,WAAW,EAAEF,EAAE,EAAE,GAAE,EAAEG,EAAE,GAAO,KAAK,gBAAgB,WAAW,EAAE,CAAC,KAAK,CAAC,WAAWJ,CAAC,EAAE,KAAK,gBAAgBhB,EAAEgB,EAAExB,EAAEyB,GAAGD,EAAEI,GAAG5B,EAAE,KAAK,KAAK,SAASQ,EAAEiB,CAAC,CAAC,CAAC,CAAC,eAAe,EAAEjB,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,gBAAgB,MAAM,MAAM,IAAI,EAAE,IAAI,KAAK,OAAO,MAAM,KAAK,IAAI,EAAE,IAAI,KAAK,OAAO,MAAM,WAAiB,KAAK,MAAM,IAAI,CAAC,IAAtB,IAAwB,IAAI,KAAK,QAAQ,WAAW,KAAK,GAAG,KAAK,aAAa,KAAK,QAAQ,YAAY,KAAK,eAAe,EAAEA,CAAC,EAAE,CAAC,CAACkB,EAAE,iBAAiB,IAAI,MAAMC,WAAUF,CAAC,CAAC,aAAa,CAAC,MAAM,GAAG,SAAS,EAAE,KAAK,YAAY,IAAI,CAAE,CAAA,CAAC,OAAO,CAAC,KAAK,YAAY,KAAK,GAAG,OAAQ,IAAI,CAAC,sBAAuB,IAAI,CAAC,KAAK,KAAK,MAAM,CAAC,EAAG,CAAC,EAAG,KAAK,KAAK,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,YAAW,CAAE,CAAC,SAAS,CAAC,KAAK,YAAW,CAAE,CAAC,CAAC,MAAMrB,GAAE,CAAC,UAAU,OAAO,cAAc,OAAO,YAAY,EAAE,YAAY,EAAE,WAAW,GAAG,SAAS,GAAG,WAAW,GAAG,WAAW,GAAG,WAAW,GAAG,EAAE,MAAMK,UAAUT,EAAC,CAAC,OAAO,OAAO,EAAE,CAAC,OAAO,IAAIS,EAAE,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC,IAAID,EAAEoB,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,cAAc,EAAE,cAAc,SAAS,EAAE,SAAS,aAAa,EAAE,SAAS,CAAC,EAAE,KAAK,QAAQ,CAAA,EAAG,KAAK,YAAY,KAAK,KAAK,SAAS,KAAK,KAAK,cAAc,CAAA,EAAG,KAAK,QAAQ,OAAO,OAAO,CAAE,EAACxB,GAAE,CAAC,EAAE,KAAK,MAAM,IAAIuB,GAAE,MAAMF,EAAE,EAAE,MAAM,OAAO,KAAK,gBAAe,EAAG,KAAK,SAAS,IAAIC,EAAE,KAAK,QAAQD,CAAC,EAAE,KAAK,iBAAkB,EAAC,KAAK,mBAAoB,EAAC,KAAK,kBAAkB,KAAK,YAAW,EAAG,MAAMzB,EAAE,KAAK,QAAQ,OAAcQ,EAAE,KAAK,QAAQ,SAAvB,MAAwCA,IAAT,OAAW,OAAOA,EAAE,eAAsBoB,EAAE,KAAK,QAAQ,SAAvB,MAAwCA,IAAT,OAAW,OAAOA,EAAE,KAAK5B,GAAG,KAAK,KAAKA,EAAE,KAAK,QAAQ,MAAM,KAAK,QAAQ,QAAQ,CAAC,CAAC,iBAAiB,CAAC,KAAK,cAAc,KAAK,KAAK,MAAM,GAAG,OAAQ,IAAI,CAAC,MAAM,EAAE,KAAK,eAAgB,EAAC,KAAK,SAAS,eAAe,EAAE,KAAK,cAAc,EAAE,EAAE,KAAK,KAAK,aAAa,CAAC,EAAE,KAAK,KAAK,eAAe,CAAC,CAAC,CAAG,CAAA,CAAC,CAAC,kBAAkB,CAAC,KAAK,cAAc,KAAK,KAAK,aAAa,aAAc,IAAI,CAAC,MAAM,EAAE,KAAK,eAAgB,EAAC,KAAK,SAAS,eAAe,EAAE,KAAK,YAAW,EAAG,KAAK,UAAS,CAAE,EAAE,KAAK,KAAK,aAAa,CAAC,CAAC,CAAC,EAAG,KAAK,aAAa,OAAQ,IAAI,CAAC,KAAK,KAAK,MAAM,EAAE,KAAK,MAAM,MAAO,CAAA,GAAI,KAAK,aAAa,QAAS,IAAI,CAAC,KAAK,KAAK,OAAO,EAAE,KAAK,MAAM,KAAI,CAAE,CAAG,EAAC,KAAK,aAAa,QAAS,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAG,EAAC,KAAK,aAAa,UAAW,IAAI,CAAC,KAAK,KAAK,UAAU,KAAK,gBAAgB,CAAC,EAAG,CAAC,CAAC,oBAAoB,CAAC,KAAK,cAAc,KAAK,KAAK,SAAS,GAAG,QAAS,GAAG,CAAC,KAAK,QAAQ,WAAW,KAAK,OAAO,CAAC,EAAE,KAAK,KAAK,cAAc,KAAK,eAAc,CAAE,EAAE,KAAK,KAAK,QAAQ,CAAC,EAAE,GAAI,KAAK,SAAS,GAAG,SAAU,CAAC,EAAEQ,IAAI,CAAC,MAAMoB,EAAE,KAAK,cAAc,KAAK,KAAK,SAAS,EAAEA,EAAEpB,EAAEoB,CAAC,CAAC,GAAI,KAAK,SAAS,GAAG,SAAU,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAE,EAAE,CAAC,IAAI,EAAE,KAAK,cAAc,KAAK,KAAK,SAAS,GAAG,OAAQpB,GAAG,CAAC,KAAK,QAAQ,WAAW,KAAK,SAAS,eAAeA,CAAC,EAAE,aAAa,CAAC,EAAE,EAAE,WAAY,IAAI,CAAC,KAAK,OAAOA,CAAC,CAAC,EAAG,KAAK,YAAY,EAAE,GAAG,EAAE,KAAK,KAAK,cAAcA,EAAE,KAAK,aAAa,EAAE,KAAK,KAAK,OAAOA,CAAC,EAAE,CAAC,CAAE,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,EAAG,GAAQ,EAAE,KAAK,QAAQ,WAAvB,MAA0C,IAAT,SAAkB,EAAE,QAAS,KAAK,QAAQ,QAAQ,QAASgB,GAAG,CAAC,KAAK,eAAeA,CAAC,CAAC,CAAC,CAAE,CAAC,WAAW,EAAE,CAAC,KAAK,QAAQ,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAC,EAAE,KAAK,SAAS,WAAW,KAAK,OAAO,EAAE,EAAE,WAAW,KAAK,gBAAgB,EAAE,SAAS,EAAQ,EAAE,eAAR,OAAwB,KAAK,gBAAe,EAAG,SAAS,EAAE,cAAc,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,KAAK,IAAI,EAAE,KAAK,QAAQ,KAAK,CAAC,EAAE,KAAK,cAAc,KAAK,EAAE,KAAK,UAAW,IAAI,CAAC,KAAK,QAAQ,KAAK,QAAQ,OAAQhB,GAAGA,IAAI,CAAG,CAAA,EAAG,EAAE,CAAC,CAAC,YAAY,CAAC,OAAO,KAAK,SAAS,YAAY,CAAC,WAAW,CAAC,OAAO,KAAK,SAAS,UAAS,CAAE,CAAC,kBAAkB,CAAC,OAAO,KAAK,OAAO,CAAC,UAAUiB,EAAEzB,EAAE0B,EAAEC,EAAE,CAAC,OAAOH,EAAE,KAAK,OAAO,OAAQ,WAAW,CAAC,GAAG,KAAK,KAAK,OAAOC,CAAC,EAAE,KAAK,UAAS,GAAI,KAAK,MAAO,EAAC,KAAK,YAAY,KAAK,KAAK,SAAS,KAAK,CAACzB,GAAG,CAAC0B,EAAE,CAAC,MAAMF,EAAEA,GAAG,KAAK,KAAK,UAAUA,CAAC,EAAExB,EAAE,MAAM4B,GAAE,UAAUH,EAAED,EAAE,KAAK,QAAQ,WAAW,CAAC,CAAC,GAAG,KAAK,OAAOC,EAAEzB,CAAC,EAAE,KAAK,UAAU,MAAM,QAAQ,QAAQ2B,GAAG,KAAK,YAAa,CAAA,KAAK,MAAM,IAAI,QAASH,GAAG,CAAC,KAAK,eAAe,iBAAkB,IAAIA,EAAE,KAAK,aAAa,CAAC,CAAE,CAAG,KAAI,MAAM,QAAQ,QAAQ,CAAC,GAAGE,EAAE,KAAK,YAAYlB,EAAE,aAAakB,EAAE,KAAK,QAAQ,UAAU1B,EAAE,CAAC,MAAMwB,EAAE,MAAMxB,EAAE,YAAW,EAAG,KAAK,YAAY,MAAMQ,EAAE,OAAOgB,EAAE,KAAK,QAAQ,UAAU,EAAM,KAAK,WAAT,GAAmB,KAAK,WAAW,EAAE,IAAI,KAAK,SAAS,KAAK,YAAY,SAAS,CAAC,KAAK,KAAK,SAAS,KAAK,QAAQ,EAAE,KAAK,aAAa,KAAK,SAAS,OAAO,KAAK,WAAW,EAAE,KAAK,KAAK,QAAQ,KAAK,QAAQ,CAAC,CAAG,CAAA,CAAC,KAAKhB,EAAE,EAAEiB,EAAE,CAAC,OAAOD,EAAE,KAAK,OAAO,OAAQ,WAAW,CAAC,KAAK,UAAUhB,EAAE,OAAO,EAAEiB,CAAC,CAAC,CAAG,CAAA,CAAC,SAASjB,EAAE,EAAEiB,EAAE,CAAC,OAAOD,EAAE,KAAK,OAAO,OAAQ,WAAW,CAAC,KAAK,UAAU,OAAOhB,EAAE,EAAEiB,CAAC,CAAC,CAAG,CAAA,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,KAAK,YAAY,MAAM,IAAI,MAAM,iBAAiB,EAAE,KAAK,SAAS,KAAK,CAAC,EAAE,KAAK,KAAK,OAAO,CAAC,CAAC,CAAC,gBAAgB,CAAC,OAAO,KAAK,WAAW,CAAC,YAAY,CAAC,SAAS,EAAE,EAAE,UAAUjB,EAAE,IAAI,UAAUoB,EAAE,GAAG,EAAE,CAAE,EAAC,CAAC,GAAG,CAAC,KAAK,YAAY,MAAM,IAAI,MAAM,oCAAoC,EAAE,MAAMH,EAAE,KAAK,IAAI,EAAE,KAAK,YAAY,gBAAgB,EAAEzB,EAAE,GAAG,QAAQwB,EAAE,EAAEA,EAAEC,EAAED,IAAI,CAAC,MAAMC,EAAE,KAAK,YAAY,eAAeD,CAAC,EAAEE,EAAE,KAAK,IAAID,EAAE,OAAOjB,CAAC,EAAEmB,EAAEF,EAAE,OAAOC,EAAEtB,EAAE,GAAG,QAAQoB,EAAE,EAAEA,EAAEE,EAAEF,IAAI,CAAC,MAAMhB,EAAEiB,EAAE,KAAK,MAAMD,EAAEG,CAAC,CAAC,EAAEvB,EAAE,KAAK,KAAK,MAAMI,EAAEoB,CAAC,EAAEA,CAAC,CAAC,CAAC5B,EAAE,KAAKI,CAAC,CAAC,CAAC,OAAOJ,CAAC,CAAC,aAAa,CAAC,OAAc,KAAK,WAAZ,KAAqB,KAAK,SAAS,MAAM,YAAW,CAAE,CAAC,kBAAkB,EAAE,CAAC,KAAK,QAAQ,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,MAAMQ,EAAE,KAAK,YAAW,EAAG,EAAE,KAAK,QAAQA,CAAC,CAAC,CAAC,WAAW,CAAC,OAAOgB,EAAE,KAAK,OAAO,OAAQ,WAAW,CAAC,OAAO,KAAK,UAAW,EAAC,KAAK,MAAO,EAAC,KAAK,MAAM,CAAC,CAAE,CAAC,MAAM,CAAC,KAAK,MAAO,EAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,QAAQ,KAAK,eAAc,EAAG,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,KAAK,KAAK,SAAS,EAAE,KAAK,QAAQ,QAAS,GAAG,EAAE,SAAW,EAAC,KAAK,cAAc,QAAS,GAAG,EAAG,CAAA,EAAG,KAAK,MAAM,UAAU,KAAK,SAAS,QAAS,EAAC,MAAM,SAAS,CAAC,CCCzviB,SAASS,GAAiBC,EAAS,CAC9C,OAAOC,EAAW,OAAOD,CAAO,CACpC,CCHe,SAASE,EAAaC,EAAW,CAC5C,KAAM,CAAE,OAAAC,EAAQ,QAAAJ,EAAS,QAAAK,EAAU,QAAQ,EAAKF,EAC1CG,EAAeF,EAAOC,CAAO,EACnC,GAAI,CAACD,EACD,MAAM,IAAI,MAAM,2CAA2C,EAC/D,GAAI,CAACC,EACD,MAAM,IAAI,MAAM,8DAA8D,EAClF,GAAI,OAAOC,GAAiB,WACxB,MAAM,IAAI,MAAM,IAAID,CAAO,mFAAmF,EAElH,OAAOC,EAAaN,CAAO,CAC/B,CCXA,MAAMO,GAAgB,CAACC,EAAMC,IAAS,CAClC,MAAMC,EAAW,CAAC,GAAGF,CAAI,EACnBG,EAAW,CAAC,GAAGF,CAAI,EACnBG,EAAWF,EAAS,OAAOG,GAAQF,EAAS,UAAWG,GAAaA,EAAS,OAASD,EAAK,IAAI,IAAM,EAAE,EACvGE,EAAUJ,EAAS,OAAOE,GAAQH,EAAS,UAAUI,GAAYA,EAAS,OAASD,EAAK,IAAI,IAAM,EAAE,EAC1G,MAAO,CAAE,SAAAD,EAAU,QAAAG,EAEvB,ECPA,IAAIC,GAAUpC,YAAQA,WAAK,QAAW,SAAUW,EAAGjB,EAAG,CAClD,IAAIgB,EAAI,CAAA,EACR,QAASvB,KAAKwB,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGxB,CAAC,GAAKO,EAAE,QAAQP,CAAC,EAAI,IAC9EuB,EAAEvB,CAAC,EAAIwB,EAAExB,CAAC,GACd,GAAIwB,GAAK,MAAQ,OAAO,OAAO,uBAA0B,WACrD,QAASG,EAAI,EAAG3B,EAAI,OAAO,sBAAsBwB,CAAC,EAAGG,EAAI3B,EAAE,OAAQ2B,IAC3DpB,EAAE,QAAQP,EAAE2B,CAAC,CAAC,EAAI,GAAK,OAAO,UAAU,qBAAqB,KAAKH,EAAGxB,EAAE2B,CAAC,CAAC,IACzEJ,EAAEvB,EAAE2B,CAAC,CAAC,EAAIH,EAAExB,EAAE2B,CAAC,CAAC,GAE5B,OAAOJ,CACX,EAKe,SAAS2B,GAAcC,EAAI,CACtC,GAAI,CAAE,UAAAC,EAAW,QAAAC,EAAU,CAAA,EAAI,QAAAC,CAAS,EAAGH,EAAI/B,EAAQ6B,GAAOE,EAAI,CAAC,YAAa,UAAW,SAAS,CAAC,EACrG,MAAMI,EAAuBC,SAAO,CAAA,CAAE,EAChC,CAACC,EAAYC,CAAa,EAAIC,EAAQ,SAAC,IAAI,EACjDC,OAAAA,EAAAA,UAAU,IAAM,CACZ,GAAI,CAACR,EACD,OACJ,IAAIS,EAAW,CAAA,EAEXR,IACAQ,EAAWR,EAAQ,IAAIlB,CAAY,GAEvCoB,EAAqB,QAAUM,EAC/B,MAAMC,EAAK9B,GAAiB,OAAO,OAAO,OAAO,OAAO,CAAE,UAAAoB,CAAW,EAAEhC,CAAK,EAAG,CAAE,QAASyC,CAAQ,CAAE,CAAC,EACrG,OAAAP,GAAY,MAAsCA,EAAQQ,CAAE,EAC5DJ,EAAcI,CAAE,EACT,IAAM,CACTA,EAAG,QAAO,CACtB,CACA,EAAO,CAACV,CAAS,CAAC,EAIdQ,EAAAA,UAAU,IAAM,CACZ,GAAIH,EAAY,CACZ,MAAMM,EAAiBV,EAAQ,IAAIlB,CAAY,EACzC,CAAE,SAAAU,EAAU,QAAAG,CAAS,EAAGR,GAAce,EAAqB,QAASQ,CAAc,EACxFR,EAAqB,QAAUQ,EAC/BlB,EAAS,QAASR,GAAW,CACpBA,EAAO,OAEZoB,GAAe,MAAyCA,EAAW,cAAcpB,EAAO,IAAI,EAC5G,CAAa,EACDW,EAAQ,QAASX,GAAW,CACnBA,EAAO,OAEZoB,GAAe,MAAyCA,EAAW,UAAUpB,CAAM,EAAE,WAAWA,EAAO,IAAI,EAC3H,CAAa,CACJ,CACT,EAAO,CAACgB,CAAO,CAAC,EACLI,CACX,CCxDe,SAASO,GAAeC,EAAI,CACvC,MAAO,CAAC,CAACA,GAAM,OAAOA,GAAO,UAAY,OAAOA,GAAO,UAAY,OAAOA,GAAO,WAAa,SAAUA,GAAM,UAAWA,CAC7H,CCFA,IAAIhB,GAAUpC,YAAQA,WAAK,QAAW,SAAUW,EAAGjB,EAAG,CAClD,IAAIgB,EAAI,CAAA,EACR,QAASvB,KAAKwB,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGxB,CAAC,GAAKO,EAAE,QAAQP,CAAC,EAAI,IAC9EuB,EAAEvB,CAAC,EAAIwB,EAAExB,CAAC,GACd,GAAIwB,GAAK,MAAQ,OAAO,OAAO,uBAA0B,WACrD,QAASG,EAAI,EAAG3B,EAAI,OAAO,sBAAsBwB,CAAC,EAAGG,EAAI3B,EAAE,OAAQ2B,IAC3DpB,EAAE,QAAQP,EAAE2B,CAAC,CAAC,EAAI,GAAK,OAAO,UAAU,qBAAqB,KAAKH,EAAGxB,EAAE2B,CAAC,CAAC,IACzEJ,EAAEvB,EAAE2B,CAAC,CAAC,EAAIH,EAAExB,EAAE2B,CAAC,CAAC,GAE5B,OAAOJ,CACX,EAQA,MAAMW,EAAciB,GAAO,CACvB,GAAI,CAAE,SAAAnC,EAAU,QAAAqC,EAAU,CAAA,EAAI,QAAAC,CAAS,EAAGH,EAAI/B,EAAQ6B,GAAOE,EAAI,CAAC,WAAY,UAAW,SAAS,CAAC,EAGnG,MAAMe,EAAyBC,EAAAA,QAAQ,IAAM,CACzC,IAAIC,EAAgB,CAAA,EACpBC,OAAAA,EAAAA,SAAS,QAAQrD,EAAWsD,GAAY,CAKpC,GAJI,OAAOA,GAAY,UAAYA,IAAY,MAAQ,CAAC,SAAU,QAAQ,EAAE,SAAS,OAAOA,CAAO,GAI/F,CAACN,GAAeM,CAAO,EACvB,OACJ,KAAM,CAAE,MAAAlD,EAAO,KAAMmD,CAAM,EAAKD,EAChC,GAAIC,IAAWzD,EAAU,CACrB,KAAM,CAAE,GAAAC,CAAI,EAAGK,EACfgD,EAAgBjD,GAA4BC,CAAK,EACjDgD,EAAgB,OAAO,OAAO,OAAO,OAAO,CAAA,EAAIA,CAAa,EAAG,CAAE,UAAW,IAAMrD,CAAI,CAAA,CAC1F,CACb,CAAS,EACMqD,CACf,EAAO,CAACpD,CAAQ,CAAC,EACPyC,EAAaP,GAAc,OAAO,OAAO,OAAO,OAAO,CAAE,QAAAG,EAE3D,QAAAC,GAAWlC,CAAK,EAAG8C,CAAsB,CAAC,EAC9C,OAAQjD,EAAM,cAAcN,GAAkB,SAAU,CAAE,MAAO8C,GAAczC,CAAQ,CAC3F,EACAkB,EAAW,aAAe,CACtB,SAAU,KACV,QAAS,CAAE,CACf,EC/CA,MAAMsC,CAAa,CACf,aAAc,CACV,KAAK,UAAY,EACpB,CAED,GAAGC,EAAWC,EAAU,CACpB,OAAK,KAAK,UAAUD,CAAS,IACzB,KAAK,UAAUA,CAAS,EAAI,IAAI,KAEpC,KAAK,UAAUA,CAAS,EAAE,IAAIC,CAAQ,EAC/B,IAAM,KAAK,GAAGD,EAAWC,CAAQ,CAC3C,CAED,KAAKD,EAAWC,EAAU,CAEtB,MAAMC,EAAc,KAAK,GAAGF,EAAWC,CAAQ,EAEzCE,EAAkB,KAAK,GAAGH,EAAW,IAAM,CAC7CE,IACAC,GACZ,CAAS,EACD,OAAOD,CACV,CAED,GAAGF,EAAWC,EAAU,CAChB,KAAK,UAAUD,CAAS,IACpBC,EACA,KAAK,UAAUD,CAAS,EAAE,OAAOC,CAAQ,EAGzC,OAAO,KAAK,UAAUD,CAAS,EAG1C,CAED,OAAQ,CACJ,KAAK,UAAY,EACpB,CAED,KAAKA,KAAcI,EAAM,CACjB,KAAK,UAAUJ,CAAS,GACxB,KAAK,UAAUA,CAAS,EAAE,QAASC,GAAaA,EAAS,GAAGG,CAAI,CAAC,CAExE,CACL,CC5CO,MAAMC,WAAmBN,CAAa,CACzC,YAAYvC,EAAS,CACjB,QACA,KAAK,cAAgB,GACrB,KAAK,QAAUA,CAClB,CACD,QAAS,CAGR,CACD,KAAKwB,EAAY,CACb,KAAK,WAAaA,EAClB,KAAK,OAAM,CACd,CACD,SAAU,CACN,KAAK,KAAK,SAAS,EACnB,KAAK,cAAc,QAASkB,GAAgBA,EAAa,CAAA,CAC5D,CACL,CCnBO,SAASI,EAAcT,EAASU,EAAQC,EAASC,EAAOC,EAAY,EAAG,CAC1E,IAAIC,EAAQ,IAAM,CAEtB,EACI,GAAI,CAACd,EACD,OAAOc,EACX,MAAMC,EAAQ9E,GAAM,CAEhB,GAAIA,EAAE,SAAW,EACb,OACJA,EAAE,eAAc,EAChBA,EAAE,gBAAe,EACjB,IAAI+E,EAAS/E,EAAE,QACXgF,EAAShF,EAAE,QACXiF,EAAa,GACjB,MAAMC,EAAQlF,GAAM,CAChBA,EAAE,eAAc,EAChBA,EAAE,gBAAe,EACjB,MAAMmF,EAAInF,EAAE,QACNuB,EAAIvB,EAAE,QACZ,GAAIiF,GAAc,KAAK,IAAIE,EAAIJ,CAAM,GAAKH,GAAa,KAAK,IAAIrD,EAAIyD,CAAM,GAAKJ,EAAW,CACtF,KAAM,CAAE,KAAAQ,EAAM,IAAAC,CAAK,EAAGtB,EAAQ,sBAAqB,EAC9CkB,IACDA,EAAa,GACbP,GAAY,MAAsCA,EAAQK,EAASK,EAAMJ,EAASK,CAAG,GAEzFZ,EAAOU,EAAIJ,EAAQxD,EAAIyD,EAAQG,EAAIC,EAAM7D,EAAI8D,CAAG,EAChDN,EAASI,EACTH,EAASzD,CACZ,CACb,EACc+D,EAAStF,GAAM,CACbiF,IACAjF,EAAE,eAAc,EAChBA,EAAE,gBAAe,EAEjC,EACcuF,EAAK,IAAM,CACTN,IACAN,GAAU,MAAoCA,KAElDE,GACZ,EACQ,SAAS,iBAAiB,cAAeK,CAAI,EAC7C,SAAS,iBAAiB,YAAaK,CAAE,EACzC,SAAS,iBAAiB,eAAgBA,CAAE,EAC5C,SAAS,iBAAiB,QAASD,EAAO,EAAI,EAC9CT,EAAQ,IAAM,CACV,SAAS,oBAAoB,cAAeK,CAAI,EAChD,SAAS,oBAAoB,YAAaK,CAAE,EAC5C,SAAS,oBAAoB,eAAgBA,CAAE,EAC/C,WAAW,IAAM,CACb,SAAS,oBAAoB,QAASD,EAAO,EAAI,CACpD,EAAE,EAAE,CACjB,CACA,EACI,OAAAvB,EAAQ,iBAAiB,cAAee,CAAI,EACrC,IAAM,CACTD,IACAd,EAAQ,oBAAoB,cAAee,CAAI,CACvD,CACA,CCrDA,MAAMU,UAAqBvB,CAAa,CACpC,YAAYwB,EAAQC,EAAe,CAC/B,IAAI9C,EAAI+C,EAAIC,EAAIC,EAAIC,EAAIC,EACxB,QACA,KAAK,cAAgBL,EACrB,KAAK,UAAY,EACjB,KAAK,UAAY,IACjB,KAAK,GAAKD,EAAO,IAAM,UAAU,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC,GACpE,KAAK,MAAQA,EAAO,MACpB,KAAK,KAAO7C,EAAK6C,EAAO,OAAS,MAAQ7C,IAAO,OAASA,EAAK6C,EAAO,MACrE,KAAK,MAAQE,EAAKF,EAAO,QAAU,MAAQE,IAAO,OAASA,EAAK,GAChE,KAAK,QAAUC,EAAKH,EAAO,UAAY,MAAQG,IAAO,OAASA,EAAK,GACpE,KAAK,OAASC,EAAKJ,EAAO,SAAW,MAAQI,IAAO,OAASA,EAAK,qBAClE,KAAK,WAAaC,EAAKL,EAAO,aAAe,MAAQK,IAAO,OAASA,EAAK,KAAK,UAC/E,KAAK,WAAaC,EAAKN,EAAO,aAAe,MAAQM,IAAO,OAASA,EAAK,KAAK,UAC/E,KAAK,QAAU,KAAK,YAAYN,EAAO,OAAO,EAC9C,KAAK,eAAc,EACnB,KAAK,gBAAe,CACvB,CACD,YAAYO,EAAS,CACjB,MAAMjC,EAAU,SAAS,cAAc,KAAK,EACtCkC,EAAW,KAAK,QAAU,KAAK,IA2BrC,GA1BAlC,EAAQ,aAAa,OAAQ,GAAGkC,EAAW,SAAW,QAAQ,IAAI,KAAK,EAAE,EAAE,EAC3ElC,EAAQ,aAAa,QAAS;AAAA;AAAA;AAAA,0BAGZkC,EAAW,OAAS,KAAK,KAAK;AAAA,qBACnCA,EAAW,aAAe,KAAK,MAAQ,MAAM;AAAA;AAAA;AAAA;AAAA,gBAIlD,KAAK,KAAO,OAAS,SAAS;AAAA;AAAA,KAEzC,EAEOD,IACI,OAAOA,GAAY,UACnB,KAAK,QAAU,SAAS,cAAc,KAAK,EAC3C,KAAK,QAAQ,MAAM,QAAU,SAASC,EAAW,GAAM,EAAG,KAC1D,KAAK,QAAQ,YAAcD,GAG3B,KAAK,QAAUA,EAEnB,KAAK,QAAQ,aAAa,OAAQ,gBAAgB,EAClDjC,EAAQ,YAAY,KAAK,OAAO,GAGhC,CAACkC,EAAU,CACX,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,aAAa,cAAe,MAAM,EAC7CA,EAAW,aAAa,QAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAS3B,KAAK,OAAS,YAAc,SAAS;AAAA;AAAA,OAEhD,EACKA,EAAW,aAAa,OAAQ,kCAAkC,EAClE,MAAMC,EAAcD,EAAW,YAC/BC,EAAY,aAAa,cAAe,OAAO,EAC/CA,EAAY,MAAM,KAAO,GACzBA,EAAY,MAAM,MAAQ,IAC1BA,EAAY,MAAM,YAAcA,EAAY,MAAM,WAClDA,EAAY,MAAM,WAAa,GAC/BA,EAAY,MAAM,aAAe,cACjCA,EAAY,aAAa,OAAQ,mCAAmC,EACpEpC,EAAQ,YAAYmC,CAAU,EAC9BnC,EAAQ,YAAYoC,CAAW,CAClC,CACD,OAAOpC,CACV,CACD,gBAAiB,CACb,MAAMqC,EAAQ,KAAK,MAAQ,KAAK,cAC1BC,GAAO,KAAK,cAAgB,KAAK,KAAO,KAAK,cACnD,KAAK,QAAQ,MAAM,KAAO,GAAGD,EAAQ,GAAG,IACxC,KAAK,QAAQ,MAAM,MAAQ,GAAGC,EAAM,GAAG,GAC1C,CACD,iBAAkB,CACd,KAAM,CAAE,QAAAtC,CAAS,EAAG,KACpB,GAAI,CAACA,EACD,OACJA,EAAQ,iBAAiB,QAAU,GAAM,KAAK,KAAK,QAAS,CAAC,CAAC,EAC9DA,EAAQ,iBAAiB,aAAe,GAAM,KAAK,KAAK,OAAQ,CAAC,CAAC,EAClEA,EAAQ,iBAAiB,aAAe,GAAM,KAAK,KAAK,QAAS,CAAC,CAAC,EACnEA,EAAQ,iBAAiB,WAAa,GAAM,KAAK,KAAK,WAAY,CAAC,CAAC,EAEpES,EAAcT,EAAUuC,GAAO,KAAK,OAAOA,CAAE,EAAG,IAAM,KAAK,cAAe,EAAE,IAAM,KAAK,YAAa,CAAA,EAEpG,MAAMC,EAAkB,EACxB/B,EAAcT,EAAQ,cAAc,sBAAsB,EAAIuC,GAAO,KAAK,SAASA,EAAI,OAAO,EAAG,IAAM,KAAM,IAAM,KAAK,cAAa,EAAIC,CAAe,EACxJ/B,EAAcT,EAAQ,cAAc,uBAAuB,EAAIuC,GAAO,KAAK,SAASA,EAAI,KAAK,EAAG,IAAM,KAAM,IAAM,KAAK,cAAa,EAAIC,CAAe,CAC1J,CACD,eAAgB,CACP,KAAK,OAEV,KAAK,QAAQ,MAAM,OAAS,WAC/B,CACD,aAAc,CACL,KAAK,OAEV,KAAK,QAAQ,MAAM,OAAS,OAC5B,KAAK,KAAK,YAAY,EACzB,CACD,UAAUD,EAAIE,EAAM,CAChB,GAAI,CAAC,KAAK,QAAQ,cACd,OACJ,MAAMC,EAAgBH,EAAK,KAAK,QAAQ,cAAc,YAAe,KAAK,cACpEI,EAAW,CAACF,GAAQA,IAAS,QAAU,KAAK,MAAQC,EAAe,KAAK,MACxEE,EAAS,CAACH,GAAQA,IAAS,MAAQ,KAAK,IAAMC,EAAe,KAAK,IAClEG,EAASD,EAASD,EACpBA,GAAY,GACZC,GAAU,KAAK,eACfD,GAAYC,GACZC,GAAU,KAAK,WACfA,GAAU,KAAK,YACf,KAAK,MAAQF,EACb,KAAK,IAAMC,EACX,KAAK,eAAc,EACnB,KAAK,KAAK,QAAQ,EAEzB,CACD,OAAOL,EAAI,CACF,KAAK,MAEV,KAAK,UAAUA,CAAE,CACpB,CACD,SAASA,EAAIE,EAAM,CACV,KAAK,QAEV,KAAK,UAAUF,EAAIE,CAAI,CAC1B,CACD,eAAgB,CACP,KAAK,QAEV,KAAK,KAAK,YAAY,CACzB,CACD,kBAAkBd,EAAe,CAC7B,KAAK,cAAgBA,EACrB,KAAK,eAAc,CACtB,CAED,MAAO,CACH,KAAK,KAAK,MAAM,CACnB,CAED,WAAWhE,EAAS,CAChB,IAAIkB,EAAI+C,EACJjE,EAAQ,QACR,KAAK,MAAQA,EAAQ,MACrB,KAAK,QAAQ,MAAM,gBAAkB,KAAK,OAE1CA,EAAQ,OAAS,SACjB,KAAK,KAAOA,EAAQ,KACpB,KAAK,QAAQ,MAAM,OAAS,KAAK,KAAO,OAAS,WAEjDA,EAAQ,SAAW,SACnB,KAAK,OAASA,EAAQ,OACtB,KAAK,QAAQ,iBAAiB,eAAe,EAAE,QAASmF,GAAW,CAE/DA,EAAO,MAAM,OAAS,KAAK,OAAS,YAAc,SAClE,CAAa,IAEDnF,EAAQ,QAAU,QAAaA,EAAQ,MAAQ,UAC/C,KAAK,OAASkB,EAAKlB,EAAQ,SAAW,MAAQkB,IAAO,OAASA,EAAK,KAAK,MACxE,KAAK,KAAO+C,EAAKjE,EAAQ,OAAS,MAAQiE,IAAO,OAASA,EAAK,KAAK,IACpE,KAAK,eAAc,EAE1B,CAED,QAAS,CACL,KAAK,KAAK,QAAQ,EAClB,KAAK,QAAQ,SAGb,KAAK,QAAU,IAClB,CACL,CACA,MAAMmB,UAAsBvC,EAAW,CAEnC,YAAY7C,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,QAAU,GACf,KAAK,iBAAmB,KAAK,sBAChC,CAED,OAAO,OAAOA,EAAS,CACnB,OAAO,IAAIoF,EAAcpF,CAAO,CACnC,CAED,QAAS,CACL,GAAI,CAAC,KAAK,WACN,MAAM,MAAM,+BAA+B,EAE/C,KAAK,WAAW,WAAU,EAAG,YAAY,KAAK,gBAAgB,EAE9D,IAAIqF,EAAe,KACnB,KAAK,cAAc,KAAK,KAAK,WAAW,GAAG,aAAeC,GAAgB,CACtE,MAAMC,EAAe,KAAK,QAAQ,KAAMC,GAAWA,EAAO,OAASF,GAAeE,EAAO,KAAOF,CAAW,EACvGD,GAAgBA,IAAiBE,IACjC,KAAK,KAAK,aAAcF,CAAY,EACpCA,EAAe,MAEfE,GAAgBA,IAAiBF,IACjCA,EAAeE,EACf,KAAK,KAAK,YAAaA,CAAY,EAE1C,CAAA,CAAC,CACL,CACD,sBAAuB,CACnB,MAAME,EAAM,SAAS,cAAc,KAAK,EACxC,OAAAA,EAAI,aAAa,QAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQ7B,EACUA,CACV,CAED,YAAa,CACT,OAAO,KAAK,OACf,CACD,iBAAiBD,EAAQ,CACrB,GAAI,CAACA,EAAO,QACR,OAGJ,MAAMC,EAAMD,EAAO,QACbE,EAAYD,EAAI,sBAAqB,EAAG,KACxCE,EAAaH,EAAO,QAAQ,YAC5BI,EAAU,KAAK,QAChB,OAAQC,GAAQ,CACjB,GAAIA,IAAQL,GAAU,CAACK,EAAI,QACvB,MAAO,GACX,MAAMnC,EAAOmC,EAAI,QAAQ,sBAAqB,EAAG,KAC3CC,EAAQD,EAAI,QAAQ,YAC1B,OAAOH,EAAYhC,EAAOoC,GAASpC,EAAOgC,EAAYC,CAClE,CAAS,EACI,IAAKE,GAAQ,CAAE,IAAI3E,EAAI,QAASA,EAAK2E,EAAI,WAAa,MAAQ3E,IAAO,OAAS,OAASA,EAAG,wBAAwB,SAAW,EAAI,EACjI,OAAO,CAAC6E,EAAKC,IAAQD,EAAMC,EAAK,CAAC,EACtCP,EAAI,MAAM,UAAY,GAAGG,CAAO,IACnC,CACD,WAAWJ,EAAQ,CACf,KAAK,iBAAiB,YAAYA,EAAO,OAAO,EAChD,KAAK,iBAAiBA,CAAM,EAC5B,KAAK,QAAQ,KAAKA,CAAM,EACxB,KAAK,KAAK,iBAAkBA,CAAM,EAClC,MAAMS,EAAsB,CACxBT,EAAO,GAAG,aAAc,IAAM,CAC1B,KAAK,iBAAiBA,CAAM,EAC5B,KAAK,KAAK,iBAAkBA,CAAM,CAClD,CAAa,EACDA,EAAO,GAAG,OAAQ,IAAM,CACpB,IAAItE,EAAI+C,GACP/C,EAAK,KAAK,cAAgB,MAAQA,IAAO,QAAkBA,EAAG,KAAI,GAClE+C,EAAK,KAAK,cAAgB,MAAQA,IAAO,QAAkBA,EAAG,QAAQuB,EAAO,KAAK,CACnG,CAAa,EACDA,EAAO,GAAG,QAAU,GAAM,CACtB,KAAK,KAAK,iBAAkBA,EAAQ,CAAC,CACrD,CAAa,EACDA,EAAO,GAAG,WAAa,GAAM,CACzB,KAAK,KAAK,wBAAyBA,EAAQ,CAAC,CAC5D,CAAa,EAEDA,EAAO,KAAK,SAAU,IAAM,CACxBS,EAAoB,QAASvD,GAAgBA,EAAa,CAAA,EAC1D,KAAK,QAAU,KAAK,QAAQ,OAAQmD,GAAQA,IAAQL,CAAM,CAC1E,CAAa,CACb,EACQ,KAAK,cAAc,KAAK,GAAGS,CAAmB,CACjD,CAED,UAAUjG,EAAS,CACf,GAAI,CAAC,KAAK,WACN,MAAM,MAAM,+BAA+B,EAE/C,MAAMkG,EAAW,KAAK,WAAW,YAAW,EACtCV,EAAS,IAAI1B,EAAa9D,EAASkG,CAAQ,EACjD,OAAKA,EAOD,KAAK,WAAWV,CAAM,EANtB,KAAK,cAAc,KAAK,KAAK,WAAW,KAAK,QAAUU,GAAa,CAChEV,EAAO,kBAAkBU,CAAQ,EACjC,KAAK,WAAWV,CAAM,CACzB,CAAA,CAAC,EAKCA,CACV,CAKD,oBAAoBxF,EAAS,CACzB,IAAIkB,EAAI+C,EACR,MAAMkC,GAAWlC,GAAM/C,EAAK,KAAK,cAAgB,MAAQA,IAAO,OAAS,OAASA,EAAG,WAAY,KAAM,MAAQ+C,IAAO,OAAS,OAASA,EAAG,cAAc,KAAK,EAC9J,GAAI,CAACkC,EACD,MAAO,IAAM,GACjB,MAAMC,EAAc,EACpB,IAAIZ,EAAS,KACTnC,EAAS,EACb,OAAOP,EAAcqD,EAErB,CAACvB,EAAIyB,EAAK5C,IAAM,CACR+B,GAGAA,EAAO,UAAUZ,EAAInB,EAAIJ,EAAS,MAAQ,OAAO,CAExD,EAEAI,GAAM,CAEH,GADAJ,EAASI,EACL,CAAC,KAAK,WACN,OACJ,MAAMyC,EAAW,KAAK,WAAW,YAAW,EACtCJ,EAAQ,KAAK,WAAW,WAAU,EAAG,YAErCpB,EAASjB,EAAIqC,EAASI,EAEtBvB,GAAQlB,EAAI2C,GAAeN,EAASI,EAE1CV,EAAS,IAAI1B,EAAa,OAAO,OAAO,OAAO,OAAO,CAAE,EAAE9D,CAAO,EAAG,CAAE,MAAA0E,EAClE,IAAAC,CAAK,CAAA,EAAGuB,CAAQ,EAEpB,KAAK,iBAAiB,YAAYV,EAAO,OAAO,CACnD,EAED,IAAM,CACEA,IACA,KAAK,WAAWA,CAAM,EACtBA,EAAS,KAEzB,CAAS,CACJ,CAED,cAAe,CACX,KAAK,QAAQ,QAASA,GAAWA,EAAO,OAAM,CAAE,CACnD,CAED,SAAU,CACN,KAAK,aAAY,EACjB,MAAM,QAAO,CAChB,CACL,CChWA,MAAApE,GAAA,CAAgB,CACZ,OAAAgE,EACY,QAAA,CAAA,cAAA,EAAA,CACqB,CAErC,EAEA,SAAAkB,EAAAnH,EAAA,CAEI,MAAAoH,EAAAhF,SAAA,IAAA,EAEAiF,EAAAC,EAAA,YAAqBC,GAAA,CAEbH,EAAA,QAAAG,EAEAH,EAAA,UACIA,EAAA,QAAA,KAAApH,EAAA,MAAA,EACAoH,EAAA,QAAA,GAAA,QAAA,IAAA,CACI,QAAA,IAAA,qBAAA,CAAiC,CAAA,EAEzC,EACJ,CAAA,CAAI,EAGRI,EAAAF,EAAAA,YAAA,IAAA,CACIF,EAAA,SACIA,EAAA,QAAA,WACJ,EAAA,CAAA,CAAA,EAGJ,OAAAK,EAAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OAAA,gBAAA,EAAA,SAAA,CAEQC,EAAAA,IAAA,KAAA,CAAA,SAAA,0BAAA,CAAA,EAA4BD,EAAA,KAAA3G,EAAA,CAAA,QAAAmB,GAAA,QAAAoF,EAAA,SAAA,CAExBK,EAAA,IAAAhI,EAAA,CAAA,GAAA,WAAA,YAAA,cAAA,EAAiDgI,EAAAA,IAAA,MAAA,CAAA,GAAA,UAAA,CAAA,CAC/B,EAAA,EACtBA,EAAA,IAAA,SAAA,CAAA,QAAAF,EAAA,SAAA,eAAA,EACmCE,EAAAA,IAAA,MAAA,CAAA,SAAA,KAAA,UAAA,CAAA,MAAA1H,GAAA,KAAA,CAAA,EAAA,CACI,CAAA,CAAA,CAGnD;;;;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}